<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.8.1" />
<title>friendly_ground_truth.view.tk_view API documentation</title>
<meta name="description" content="File Name: tk_view.py â€¦" />
<link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css' rel='stylesheet'>
<link href='https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/8.0.0/sanitize.min.css' rel='stylesheet'>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">
<style>.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>friendly_ground_truth.view.tk_view</code></h1>
</header>
<section id="section-intro">
<p>File Name: tk_view.py</p>
<p>Authors: Kyle Seidenthal</p>
<p>Date: 06-04-2020</p>
<p>Description: Tkinter Version of the GUI</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;
File Name: tk_view.py

Authors: Kyle Seidenthal

Date: 06-04-2020

Description: Tkinter Version of the GUI

&#34;&#34;&#34;
import tkinter as tk
import tkinter.messagebox

from io import BytesIO
import base64

from tkinter import (LEFT, TOP, X, FLAT, RAISED, SUNKEN, ALL, BOTH, YES, RIGHT,
                     RIDGE, BOTTOM)
from tkinter import Frame
from tkinter import ttk


from PIL import Image
from PIL import ImageTk as itk
from sys import platform

from friendly_ground_truth.view.icons.icon_strings import (add_region_icon,
                                                           remove_region_icon,
                                                           threshold_icon,
                                                           next_patch_icon,
                                                           prev_patch_icon,
                                                           flood_add_icon,
                                                           flood_remove_icon,
                                                           no_root_icon,
                                                           undo_icon,
                                                           redo_icon
                                                           # add_tip_icon,
                                                           # add_branch_icon,
                                                           # add_cross_icon,
                                                           # remove_land_icon
                                                           )

from friendly_ground_truth.version_info import VersionInfo

import webbrowser

import logging
module_logger = logging.getLogger(&#39;friendly_gt.view&#39;)

ICON_PATH = &#34;friendly_ground_truth/view/icons/1x&#34;


class MainWindow(Frame):

    # Constant button IDs
    ID_TOOL_THRESH = 101
    ID_TOOL_ADD = 102
    ID_TOOL_REMOVE = 103
    ID_TOOL_NO_ROOT = 104
    ID_TOOL_PREV_IMAGE = 105
    ID_TOOL_NEXT_IMAGE = 106
    ID_TOOL_ZOOM = 107
    ID_TOOL_FLOOD_ADD = 108
    ID_TOOL_FLOOD_REMOVE = 109
    ID_TOOL_ADD_TIP = 110
    ID_TOOL_ADD_CROSS = 111
    ID_TOOL_ADD_BRANCH = 112
    ID_TOOL_REMOVE_LANDMARK = 113
    ID_ADJUST_TOOL = 114
    ID_TOOL_UNDO = 115
    ID_TOOL_REDO = 116

    MAX_SCALE = 16
    MIN_SCALE = 0.25

    def __init__(self, controller, master):

        super().__init__()
        Frame.__init__(self, master=None)

        self.master = master
        self.controller = controller

        self.image_scale = 1
        self.image_x = 0
        self.image_y = 0
        self.image_id = None

        self.brush_radius = 0
        self.zoom_cursor = False
        self.flood_cursor = False
        self.brush_cursor = None

        self.can_draw = True

        self.previous_position = (0, 0)

        self.ctrl_pressed = False

        # master.geometry(&#34;500x300+300+300&#34;)
        master.title(&#34;Friendly Ground Truth&#34;)
        # Initialize the logger
        self.logger = logging.getLogger(&#39;friendly_gt.view.MainWindow&#39;)

        self.create_menubar()

        self.create_info_panel()

        self.create_canvas()
        self.set_up_interactions()

        self.master.bind(&#34;&lt;FocusIn&gt;&#34;, self.handle_focus)

        self.control_down = False
        self.alt_down = False
        self.dragged = False

    def handle_focus(self, event):
        &#34;&#34;&#34;
        Called when the window comes into focus

        :param event: The event
        :returns: None
        &#34;&#34;&#34;
        if self.flood_cursor:
            self.canvas.config(cursor=&#39;cross&#39;)
        else:
            self.canvas.config(cursor=&#39;none&#39;)

    def set_up_interactions(self):
        &#34;&#34;&#34;
        Set up user interactions with keyboard and mouse

        :returns: None
        &#34;&#34;&#34;

        # Apparently bindings are different fro different OSes
        if platform == &#34;linux&#34; or platform == &#34;linux2&#34;:
            self.bind_all(&#34;&lt;Button-4&gt;&#34;, self.on_mousewheel)
            self.bind_all(&#34;&lt;Button-5&gt;&#34;, self.on_mousewheel)
        # Mac
        elif platform == &#34;darwin&#34;:
            self.bind_all(&#34;&lt;MouseWheel&gt;&#34;, self.on_mousewheel)

        elif platform == &#34;win32&#34;:
            self.bind_all(&#34;&lt;MouseWheel&gt;&#34;, self.on_mousewheel)

        self.canvas.bind(&#34;&lt;B1-Motion&gt;&#34;, self.on_drag)

        self.canvas.bind(&#34;&lt;Button-1&gt;&#34;, self.on_click)
        self.bind_all(&#34;&lt;ButtonRelease-1&gt;&#34;, self.on_click_release)

        self.bind_all(&#34;&lt;B2-Motion&gt;&#34;, self.on_wheel_motion)
        self.bind_all(&#34;&lt;Button-2&gt;&#34;, self.on_wheel_click)
        self.bind_all(&#34;&lt;ButtonRelease-2&gt;&#34;, self.on_wheel_release)

        self.bind_all(&#34;&lt;Button-3&gt;&#34;, self.on_right_click)

        self.bind_all(&#34;&lt;KeyPress&gt;&#34;, self.on_keypress)
        self.bind_all(&#34;&lt;Left&gt;&#34;, self.on_left)
        self.bind_all(&#34;&lt;Right&gt;&#34;, self.on_right)
        self.bind_all(&#34;&lt;KeyRelease-Control_L&gt;&#34;, self.on_control_release)
        #self.bind_all(&#34;&lt;Alt-equal&gt;&#34;, self.on_key_increase_tool)
        # self.bind_all(&#34;&lt;Alt-minus&gt;&#34;, self.on_key_decrease_tool)

    def on_key_increase_tool(self, event):
        self.controller.change_secondary_mode(self.ID_ADJUST_TOOL)
        self.controller.handle_mouse_wheel(1, 0, 0)
        self.controller.change_secondary_mode(self.ID_TOOL_ZOOM)

    def on_key_decrease_tool(self, event):
        self.controller.change_secondary_mode(self.ID_ADJUST_TOOL)
        self.controller.handle_mouse_wheel(-1, 0, 0)
        self.controller.change_secondary_mode(self.ID_TOOL_ZOOM)

    def on_control_release(self, event):

        self.control_down = False

    def create_canvas(self):
        &#34;&#34;&#34;
        Set up a canvas for displaying images

        :returns: None
        &#34;&#34;&#34;

        self.canvas = ResizingCanvas(self, cursor=&#39;none&#39;)
        self.canvas.bind(&#34;&lt;Enter&gt;&#34;, self.on_enter_canvas)
        self.canvas.bind(&#34;&lt;Leave&gt;&#34;, self.on_leave_canvas)
        self.canvas.bind(&#34;&lt;Motion&gt;&#34;, self.on_motion)
        self.canvas.pack(fill=BOTH, expand=YES)

    def create_info_panel(self):
        &#34;&#34;&#34;
        Create a panel for information about the current tool

        :returns: None
        &#34;&#34;&#34;

        self.info_panel = tk.Frame(self, borderwidth=5, relief=RIDGE,
                                   padx=50,
                                   pady=2)

        self.info_panel_label = tk.Label(self.info_panel,
                                         text=&#34;No Tool Selected&#34;)

        self.info_panel_label.pack()
        self.info_panel.pack(side=BOTTOM, fill=BOTH)

        self.thresh_slider = None
        self.add_brush_sizer = None
        self.remove_brush_sizer = None
        self.flood_add_slider = None
        self.flood_remove_slider = None

    def create_menubar(self):
        &#34;&#34;&#34;
        Create the menu bar

        :returns: None
        &#34;&#34;&#34;

        self.menubar = tk.Menu(self.master)

        self.create_file_menu()

        self.create_help_menu()

        self.create_toolbar()

        self.master.config(menu=self.menubar)

    def create_help_menu(self):
        &#34;&#34;&#34;
        Create the help menu bar

        :returns: None
        &#34;&#34;&#34;

        self.helpmenu = tk.Menu(self.menubar, tearoff=0)

        self.helpmenu.add_command(label=&#34;About&#34;,
                                  command=self.on_about)

        self.helpmenu.add_command(label=&#34;Keyboard Shortcuts&#34;,
                                  command=self.on_keyboard_shortcuts)

        self.menubar.add_cascade(label=&#34;Help&#34;, menu=self.helpmenu)

    def create_file_menu(self):
        &#34;&#34;&#34;
        Create the file menu bar

        :returns: None
        &#34;&#34;&#34;

        self.filemenu = tk.Menu(self.menubar, tearoff=0)

        self.filemenu.add_command(label=&#34;Load Image&#34;,
                                  command=self.on_load_image)

        self.filemenu.add_command(label=&#34;Save Mask&#34;, command=self.on_save_mask)

        self.menubar.add_cascade(label=&#34;File&#34;, menu=self.filemenu)

    def create_toolbar(self):
        &#34;&#34;&#34;
        Create the toolbar

        :returns: None
        &#34;&#34;&#34;

        self.toolbar = tk.Frame(self.master, bd=1, relief=RAISED)
        self.toolbar_buttons = {}

        # Threshold Button
        thresh_data = Image.open(BytesIO(base64.b64decode(threshold_icon)))
        thresh_img = itk.PhotoImage(thresh_data)
        thresh_button = tk.Button(self.toolbar, image=thresh_img,
                                  relief=FLAT, command=self.on_threshold_tool)
        thresh_button.image = thresh_img
        thresh_button.pack(side=LEFT, padx=2, pady=2)

        CreateToolTip(thresh_button, &#34;Threshold (t)&#34;)

        # Add Region Button
        add_region_data = Image.open(BytesIO(base64.
                                             b64decode(add_region_icon)))
        add_reg_img = itk.PhotoImage(add_region_data)

        add_reg_button = tk.Button(self.toolbar, image=add_reg_img,
                                   relief=FLAT, command=self.on_add_reg_tool)
        add_reg_button.image = add_reg_img
        add_reg_button.pack(side=LEFT, padx=2, pady=2)

        CreateToolTip(add_reg_button, &#34;Add Region (a)&#34;)

        # Remove Region Button
        remove_region_data = Image.open(BytesIO(base64.
                                                b64decode(remove_region_icon)))
        remove_reg_img = itk.PhotoImage(remove_region_data)
        remove_reg_button = tk.Button(self.toolbar, image=remove_reg_img,
                                      relief=FLAT,
                                      command=self.on_remove_reg_tool)
        remove_reg_button.image = remove_reg_img
        remove_reg_button.pack(side=LEFT, padx=2, pady=2)

        CreateToolTip(remove_reg_button, &#34;Remove Region (r)&#34;)

        # Flood Add Button
        flood_add_data = Image.open(BytesIO(base64.b64decode(flood_add_icon)))
        flood_add_img = itk.PhotoImage(flood_add_data)
        flood_add_button = tk.Button(self.toolbar, image=flood_add_img,
                                     relief=FLAT,
                                     command=self.on_flood_add_tool)
        flood_add_button.image = flood_add_img
        flood_add_button.pack(side=LEFT, padx=2, pady=2)

        CreateToolTip(flood_add_button, &#34;Flood Add (f)&#34;)

        # Flood Remove Button
        flood_remove_data = Image.open(BytesIO(base64.
                                               b64decode(flood_remove_icon)))
        flood_remove_img = itk.PhotoImage(flood_remove_data)
        flood_remove_button = tk.Button(self.toolbar, image=flood_remove_img,
                                        relief=FLAT,
                                        command=self.on_flood_remove_tool)
        flood_remove_button.image = flood_remove_img
        flood_remove_button.pack(side=LEFT, padx=2, pady=2)

        CreateToolTip(flood_remove_button, &#34;Flood Remove (l)&#34;)

        # No Root Button
        no_root_data = Image.open(BytesIO(base64.b64decode(no_root_icon)))
        no_root_img = itk.PhotoImage(no_root_data)
        no_root_button = tk.Button(self.toolbar, image=no_root_img,
                                   relief=FLAT,
                                   command=self.on_no_root_tool)
        no_root_button.image = no_root_img
        no_root_button.pack(side=LEFT, padx=2, pady=2)

        CreateToolTip(no_root_button, &#34;No Root (x)&#34;)

        sep = tk.ttk.Separator(self.toolbar, orient=&#34;vertical&#34;)
        sep.pack(side=LEFT, padx=5, fill=BOTH)

        # Undo Button
        undo_data = Image.open(BytesIO(base64.b64decode(undo_icon)))
        undo_img = itk.PhotoImage(undo_data)
        undo_button = tk.Button(self.toolbar, image=undo_img,
                                relief=FLAT,
                                command=self.controller.undo)
        undo_button.image = undo_img
        undo_button.pack(side=LEFT, padx=2, pady=2)

        CreateToolTip(undo_button, &#34;Undo (CTRL+Z)&#34;)

        # Redo Button
        redo_data = Image.open(BytesIO(base64.b64decode(redo_icon)))
        redo_img = itk.PhotoImage(redo_data)
        redo_button = tk.Button(self.toolbar, image=redo_img,
                                relief=FLAT,
                                command=self.controller.redo)
        redo_button.image = redo_img
        redo_button.pack(side=LEFT, padx=2, pady=2)
        redo_button.config(state=&#34;disabled&#34;)

        CreateToolTip(redo_button, &#34;Redo (CTRL+R)&#34;)

        sep = tk.ttk.Separator(self.toolbar, orient=&#34;vertical&#34;)
        sep.pack(side=LEFT, padx=5, fill=BOTH)

        # Prev Button
        prev_data = Image.open(BytesIO(base64.b64decode(prev_patch_icon)))
        prev_img = itk.PhotoImage(prev_data)
        prev_button = tk.Button(self.toolbar, image=prev_img,
                                relief=FLAT,
                                command=self.on_prev_tool)
        prev_button.image = prev_img
        prev_button.pack(side=LEFT, padx=2, pady=2)

        CreateToolTip(prev_button, &#34;Previous Patch (&lt;Left Arrow&gt;)&#34;)

        # Next Button
        next_data = Image.open(BytesIO(base64.b64decode(next_patch_icon)))
        next_img = itk.PhotoImage(next_data)
        next_button = tk.Button(self.toolbar, image=next_img,
                                relief=FLAT,
                                command=self.on_next_tool)
        next_button.image = next_img
        next_button.pack(side=LEFT, padx=2, pady=2)

        CreateToolTip(next_button, &#34;Next Patch (&lt;Right Arrow&gt;)&#34;)

        # Add Tip Button
        # add_tip_data = Image.open(BytesIO(base64.b64decode(add_tip_icon)))
        # add_tip_img = itk.PhotoImage(add_tip_data)

        # add_tip_button = tk.Button(self.toolbar, image=add_tip_img,
        #                           relief=FLAT, command=self.on_add_tip_tool)
        # add_tip_button.image = add_tip_img
        # add_tip_button.pack(side=LEFT, padx=2, pady=2)

        # Add Cross Button
        # add_cross_data = Image.\
        #        open(BytesIO(base64.b64decode(add_cross_icon)))
        # add_cross_img = itk.PhotoImage(add_cross_data)

        # add_cross_button = tk.Button(self.toolbar, image=add_cross_img,
        #                              relief=FLAT,
        #                              command=self.on_add_cross_tool)
        # add_cross_button.image = add_cross_img
        # add_cross_button.pack(side=LEFT, padx=2, pady=2)

        # Add Branch Button
        # add_branch_data = Image.open(BytesIO(base64
        #                                      .b64decode(add_branch_icon)))
        # add_branch_img = itk.PhotoImage(add_branch_data)
        # add_branch_button = tk.Button(self.toolbar, image=add_branch_img,
        #                               relief=FLAT,
        #                               command=self.on_add_branch_tool)
        # add_branch_button.image = add_branch_img
        # add_branch_button.pack(side=LEFT, padx=2, pady=2)

        # Remove Landmark Button
        # remove_landmark_data = Image.open(BytesIO(base64.
        #                                           b64decode(remove_land_icon)))
        # remove_landmark_img = itk.PhotoImage(remove_landmark_data)

        # remove_landmark_button = tk.Button(self.toolbar,
        #                                    image=remove_landmark_img,
        #                                    relief=FLAT,
        #                                    command=self.
        #                                    on_remove_landmark_tool)

        # remove_landmark_button.image = remove_landmark_img
        # remove_landmark_button.pack(side=LEFT, padx=2, pady=2)

        self.orig_button_colour = remove_reg_button.cget(&#34;background&#34;)

        self.toolbar_buttons[self.ID_TOOL_THRESH] = thresh_button
        self.toolbar_buttons[self.ID_TOOL_ADD] = add_reg_button
        self.toolbar_buttons[self.ID_TOOL_REMOVE] = remove_reg_button
        self.toolbar_buttons[self.ID_TOOL_NO_ROOT] = no_root_button
        self.toolbar_buttons[self.ID_TOOL_PREV_IMAGE] = prev_button
        self.toolbar_buttons[self.ID_TOOL_NEXT_IMAGE] = next_button
        self.toolbar_buttons[self.ID_TOOL_FLOOD_ADD] = flood_add_button
        self.toolbar_buttons[self.ID_TOOL_FLOOD_REMOVE] = flood_remove_button
        # self.toolbar_buttons[self.ID_TOOL_ADD_TIP] = add_tip_button
        # self.toolbar_buttons[self.ID_TOOL_ADD_CROSS] = add_cross_button
        # self.toolbar_buttons[self.ID_TOOL_ADD_BRANCH] = add_branch_button
        # self.toolbar_buttons[self.ID_TOOL_REMOVE_LANDMARK] = \
        #    remove_landmark_button
        self.toolbar_buttons[self.ID_TOOL_UNDO] = undo_button
        self.toolbar_buttons[self.ID_TOOL_REDO] = redo_button

        self.image_indicator = tk.Label(self.toolbar, text=&#34;No Image Loaded&#34;)
        self.image_indicator.pack(side=RIGHT, padx=2, pady=2)

        self.toolbar.pack(side=TOP, fill=X)

        self.pack()

    def on_about(self):
        &#34;&#34;&#34;
        Display the about dialog

        :param event: The event
        :returns: None
        &#34;&#34;&#34;
        AboutDialog()

    def on_keyboard_shortcuts(self):
        &#34;&#34;&#34;
        Display the keyboard shortcut dialog

        :returns: None
        &#34;&#34;&#34;
        KeyboardShortcutDialog()

    def on_left(self, event):
        &#34;&#34;&#34;
        Called when the left arrow key is pressed

        :param event: The event
        :returns: None
        &#34;&#34;&#34;

        self.on_prev_tool()

    def on_right(self, event):
        &#34;&#34;&#34;
        Called when the right arrow key is pressed

        :param event: Ethe event
        :returns: None
        &#34;&#34;&#34;

        self.on_next_tool()

    def on_keypress(self, event):
        &#34;&#34;&#34;
        Called when a key on the keyboard is pressed

        :param event: The event
        :returns: None
        &#34;&#34;&#34;

        key = event.char
        s = event.state
        ctrl = (s &amp; 0x4) != 0
        alt = (s &amp; 0x8) != 0 or (s &amp; 0x80) != 0
        shift = (s &amp; 0x1) != 0

        if shift:
            key = &#39;shift+&#39; + key

        if alt:
            key = &#39;alt+&#39; + key

        if ctrl:
            self.control_down = True
            key = &#39;ctrl+&#39; + key


        if self.control_down:
            key = event.keysym

            if key == &#39;z&#39;:
                self.controller.undo()
            elif key == &#39;r&#39;:
                self.controller.redo()
            elif key == &#39;equal&#39; or key == &#34;plus&#34;:
                self.on_key_increase_tool(None)

            elif key == &#39;minus&#39;:
                self.on_key_decrease_tool(None)

        else:
            if key == &#39;x&#39;:
                self.on_no_root_tool()

            elif key == &#34;t&#34;:
                self.on_threshold_tool()

            elif key == &#34;a&#34;:
                self.on_add_reg_tool()

            elif key == &#34;r&#34;:
                self.on_remove_reg_tool()

            elif key == &#34;f&#34;:
                self.on_flood_add_tool()

            elif key == &#34;l&#34;:
                self.on_flood_remove_tool()

            elif key == &#39;=&#39; or key ==&#34;+&#34;:
                x = self.previous_position[0]
                y = self.previous_position[1]

                self.controller.handle_zoom(1, x, y)

            elif key == &#39;-&#39;:
                x = self.previous_position[0]
                y = self.previous_position[1]

                self.controller.handle_zoom(-1, x, y)

            # elif key == &#34;c&#34;:
            #    self.on_add_cross_tool()

            # elif key == &#34;v&#34;:
            #    self.on_add_tip_tool()

            # elif key == &#34;b&#34;:
            #     self.on_add_branch_tool()

            # elif key == &#34;n&#34;:
            #    self.on_remove_landmark_tool()

    def on_load_image(self):
        &#34;&#34;&#34;
        Called when the load image button is chosen

        :returns: None
        &#34;&#34;&#34;

        self.controller.load_new_image()
        self.old_img = None

        image_name = self.controller.image.path

        self.image_indicator.config(text=&#34;Annotating &#34; + image_name)

    def start_progressbar(self, num_patches):
        &#34;&#34;&#34;
        Start displaying a progressbar

        :returns: None
        &#34;&#34;&#34;
        self.prog_popup = tk.Toplevel()

        self.prog_popup.geometry(&#34;100x50+500+400&#34;)

        tk.Label(self.prog_popup, text=&#34;Image Loading&#34;).grid(row=0, column=0)

        self.load_progress = 0
        self.load_prog_var = tk.DoubleVar()
        self.load_prog_bar = ttk.Progressbar(self.prog_popup,
                                             variable=self.load_prog_var,
                                             maximum=100)
        self.load_prog_bar.grid(row=1, column=0)

        self.progress_step = float(100.0/num_patches)
        self.prog_popup.pack_slaves()

    def show_image(self, img):
        &#34;&#34;&#34;
        Display the given image in the main window

        :param img: The image to display
        :returns: None
        &#34;&#34;&#34;

        if self.image_id:
            self.canvas.delete(self.image_id)

        self.current_image = img

        image = Image.fromarray(img)

        self.display_img = itk.PhotoImage(image=image,
                                          master=self.master)
        iw, ih = image.size

        size = int(iw * self.image_scale), int(ih * self.image_scale)

        self.logger.debug(&#34;Image Size: {}, Canvas Size: {}&#34;.format(size,
                          (self.canvas.winfo_width(),
                           self.canvas.winfo_height())))

        canvas_w = self.canvas.winfo_width()
        canvas_h = self.canvas.winfo_height()

        image = image.resize(size)

        x, y = self.image_x, self.image_y

        if size[0] &gt; canvas_w and size[1] &gt; canvas_h:
            left = -self.image_x
            right = canvas_w - self.image_x
            upper = -self.image_y
            lower = canvas_h - self.image_y

            image = image.crop([left, upper, right, lower])

            x, y = 0, 0

        self.display_img = itk.PhotoImage(image=image)

        self.image_id = self.canvas.create_image(x, y, anchor=&#34;nw&#34;,
                                                 image=self.display_img)
        self.canvas.scale(ALL, x, y, self.image_scale, self.image_scale)

        self.canvas.pack()
        self.logger.debug(&#34;Image displayed&#34;)

    def on_save_mask(self):
        &#34;&#34;&#34;
        Called when the save mask button is chosem

        :returns: None
        &#34;&#34;&#34;
        self.controller.save_mask()

    def change_toolbar_state(self, new_tool_id):
        &#34;&#34;&#34;
        Change the state of the buttons in the toolbar based on the button that
        has been chosen

        :param new_tool_id: The id of the tool that was chosen
        :returns: None
        &#34;&#34;&#34;
        for id, button in self.toolbar_buttons.items():
            if id == new_tool_id:
                if platform != &#34;darwin&#34;:
                    button.config(relief=SUNKEN)
                button.config(bg=&#34;yellow&#34;)

            else:
                if platform != &#34;darwin&#34;:
                    button.config(relief=RAISED)

                button.config(bg=self.orig_button_colour)

    def on_threshold_tool(self):
        &#34;&#34;&#34;
        Called when the threshold tool is chosen

        :returns: None
        &#34;&#34;&#34;

        self.change_toolbar_state(self.ID_TOOL_THRESH)
        self.logger.debug(&#34;Threshold tool chosen&#34;)
        self.update_info_panel(self.ID_TOOL_THRESH)
        self.controller.change_mode(self.ID_TOOL_THRESH)

    def on_add_reg_tool(self):
        &#34;&#34;&#34;
        Called when the add region brush tool is chosen

        :returns: None
        &#34;&#34;&#34;

        self.change_toolbar_state(self.ID_TOOL_ADD)
        self.update_info_panel(self.ID_TOOL_ADD)
        self.controller.change_mode(self.ID_TOOL_ADD)

    # def on_add_tip_tool(self):
    #     &#34;&#34;&#34;
    #     Called when the add tip brush tool is chosen

    #     :returns: None
    #     &#34;&#34;&#34;

    #     self.change_toolbar_state(self.ID_TOOL_ADD_TIP)

    #     self.controller.change_mode(self.ID_TOOL_ADD_TIP)

    # def on_add_cross_tool(self):
    #     &#34;&#34;&#34;
    #     Called when the add cross brush tool is chosen

    #     :returns: None
    #     &#34;&#34;&#34;

    #     self.change_toolbar_state(self.ID_TOOL_ADD_CROSS)

    #     self.controller.change_mode(self.ID_TOOL_ADD_CROSS)

    # def on_add_branch_tool(self):
    #     &#34;&#34;&#34;
    #     Called when the add branch brush tool is chosen

    #     :returns: None
    #     &#34;&#34;&#34;

    #     self.change_toolbar_state(self.ID_TOOL_ADD_BRANCH)

    #     self.controller.change_mode(self.ID_TOOL_ADD_BRANCH)

    # def on_remove_landmark_tool(self):
    #     &#34;&#34;&#34;
    #     Called when the remoive landmark brush tool is chosen

    #     :returns: None
    #     &#34;&#34;&#34;

    #     self.change_toolbar_state(self.ID_TOOL_REMOVE_LANDMARK)

    #     self.controller.change_mode(self.ID_TOOL_REMOVE_LANDMARK)

    def on_remove_reg_tool(self):
        &#34;&#34;&#34;
        Called when the remove region brush tool is chosen

        :returns: None
        &#34;&#34;&#34;
        self.change_toolbar_state(self.ID_TOOL_REMOVE)
        self.update_info_panel(self.ID_TOOL_REMOVE)
        self.controller.change_mode(self.ID_TOOL_REMOVE)

    def on_no_root_tool(self):
        &#34;&#34;&#34;
        Called when the no root tool is chosen

        :returns: None
        &#34;&#34;&#34;
        self.controller.change_mode(self.ID_TOOL_NO_ROOT)

    def on_flood_add_tool(self):
        &#34;&#34;&#34;
        Called when the flood add tool is chosen

        :returns: None
        &#34;&#34;&#34;
        self.change_toolbar_state(self.ID_TOOL_FLOOD_ADD)
        self.update_info_panel(self.ID_TOOL_FLOOD_ADD)
        self.controller.change_mode(self.ID_TOOL_FLOOD_ADD)

    def on_flood_remove_tool(self):
        &#34;&#34;&#34;
        Called when the flood remove tool is chosen

        :returns: None
        &#34;&#34;&#34;
        self.change_toolbar_state(self.ID_TOOL_FLOOD_REMOVE)
        self.update_info_panel(self.ID_TOOL_FLOOD_REMOVE)
        self.controller.change_mode(self.ID_TOOL_FLOOD_REMOVE)

    def on_prev_tool(self):
        &#34;&#34;&#34;
        Called when the previous patch button is chosen

        :returns: None
        &#34;&#34;&#34;
        self.controller.prev_patch()

    def on_next_tool(self):
        &#34;&#34;&#34;
        Called when the next patch button is chosen

        :returns: None
        &#34;&#34;&#34;
        self.controller.next_patch()

    def on_mousewheel(self, event):
        &#34;&#34;&#34;
        Called when the mouse wheel is scrolled

        :returns: None
        &#34;&#34;&#34;
        self.logger.debug(&#34;Mouse Wheel {} {}&#34;.format(event.delta, event.num))

        # Linux events are weird
        if event.num == 4:
            rotation = 120
        elif event.num == 5:
            rotation = -120

        # Capture windows and mac events
        if event.delta != 0:
            rotation = event.delta

        self.previous_position = event.x, event.y
        s = event.state

        #alt = (s &amp; 0x8) != 0 or (s &amp; 0x80) != 0
        ctrl = (s &amp; 0x4) != 0

        if ctrl:
            self.controller.change_secondary_mode(self.ID_ADJUST_TOOL)

        self.controller.handle_mouse_wheel(rotation, event.x, event.y)
        self.controller.change_secondary_mode(self.ID_TOOL_ZOOM)

    def on_drag(self, event):
        &#34;&#34;&#34;
        called when the mouse is dragged while the left button is clicked

        :param event: the mouse event
        :returns: none
        &#34;&#34;&#34;
        state = event.state
        self.dragged = True
        # ctrl = (state &amp; 0x4) != 0

        # if not ctrl:
        #    self.controller.handle_motion((event.x, event.y))
        # else:
        self.canvas.config(cursor=&#34;hand2&#34;)
        self.controller.handle_mouse_wheel_motion((event.x, event.y))

        self.previous_position = (event.x, event.y)
        self.on_motion(event)

    def on_wheel_motion(self, event):
        &#34;&#34;&#34;
        Called when the mouuse is dragged with the mouswheel pressed

        :param event: The mouse event
        :returns: None
        &#34;&#34;&#34;

        self.controller.handle_mouse_wheel_motion((event.x, event.y))
        self.previous_position = (event.x, event.y)

    def on_motion(self, event):
        &#34;&#34;&#34;
        Called when the mouse is moved on the canvas

        :param event: The event
        :returns: None
        &#34;&#34;&#34;

        pos = event.x, event.y

        if not self.zoom_cursor and not self.flood_cursor:
            self.draw_brush(pos)

    def draw_brush(self, pos=None):
        &#34;&#34;&#34;
        Draw the paintbrush curost

        :param pos: The position to draw at
        :returns: None
        &#34;&#34;&#34;

        if self.brush_cursor is not None:
            self.canvas.delete(self.brush_cursor)

        if pos is None:
            pos = self.previous_position

        x_max = pos[0] + self.brush_radius
        x_min = pos[0] - self.brush_radius
        y_max = pos[1] + self.brush_radius
        y_min = pos[1] - self.brush_radius

        self.brush_cursor = self.canvas.create_oval(x_max, y_max, x_min, y_min,
                                                    outline=&#39;white&#39;)

    def on_wheel_click(self, event):
        &#34;&#34;&#34;
        Called when the mouse wheel is clicekd

        :param event: The Mouse event
        :returns: None
        &#34;&#34;&#34;
        self.canvas.config(cursor=&#34;hand2&#34;)
        self.previous_position = (event.x, event.y)

    def on_wheel_release(self, event):
        &#34;&#34;&#34;
        Called when the mouse wheel is released

        :param event: THe mouse event
        :returns: None
        &#34;&#34;&#34;
        self.on_enter_canvas(event)

    def on_click(self, event):
        &#34;&#34;&#34;
        Called when the left mouse button is clicked

        :param event: The mouse event
        :returns: None
        &#34;&#34;&#34;
        self.previous_position = (event.x, event.y)

        self.logger.debug(&#34;Click location: {}, {}&#34;.format(event.x, event.y))

        #if self.can_draw:
        #    self.controller.handle_left_click((event.x, event.y))

    def on_click_release(self, event):
        &#34;&#34;&#34;
        Called when the left mouse button is released

        :param event: Mouse Event
        :returns: None
        &#34;&#34;&#34;
        self.on_enter_canvas(None)

        if self.can_draw and not self.dragged:
            self.controller.handle_left_click((event.x, event.y))

        self.dragged = False

    def on_right_click(self, event):
        &#34;&#34;&#34;
        Called when the right mouse button is clicked

        :param event: The mouse event
        :returns: None
        &#34;&#34;&#34;
        self.logger.debug(&#34;Right Click&#34;)
        if self.can_draw:
            self.controller.handle_right_click()

    def set_brush_radius(self, radius):
        &#34;&#34;&#34;
        Set the radius of the brush cursor representing the current brush

        :param radius: The radius to draw the brush
        :returns: None
        &#34;&#34;&#34;

        self.brush_radius = radius

    def on_enter_canvas(self, event):
        &#34;&#34;&#34;
        Called when the cursor enters the canvas

        :param event: The event
        :returns: None
        &#34;&#34;&#34;
        self.can_draw = True
        if self.flood_cursor:
            self.canvas.config(cursor=&#39;cross&#39;)

        else:
            self.canvas.config(cursor=&#39;none&#39;)

    def on_leave_canvas(self, event):
        &#34;&#34;&#34;
        Called when the mouse cursor leaves the canvas

        :param event: The event
        :returns: none
        &#34;&#34;&#34;
        # Toto, I don&#39;t think we&#39;re in canvas anymore...
        self.can_draw = False

    def on_thresh_slider(self, value):
        &#34;&#34;&#34;
        Called when the threshold slider is moved

        :param value: The value of the slider
        :returns: None
        &#34;&#34;&#34;

        self.logger.debug(&#34;Threshold Slider Value: {}&#34;.format(value))

        if self.update_tool:
            self.controller.set_threshold(float(value))
        else:
            self.update_tool = True

    def update_thresh_slider_value(self, value):
        &#34;&#34;&#34;
        Update the value of the threshold slider

        :param value: The value to set it to
        :returns: None
        &#34;&#34;&#34;

        try:
            self.thresh_slider_var = value
            self.thresh_slider.set(value)
        except Exception:
            return

    def on_add_brush_sizer(self, a, b, c):
        &#34;&#34;&#34;
        Called when the add brush sizer is updated

        :returns: None
        &#34;&#34;&#34;

        if self.update_tool:
            val = self.add_brush_sizer_var.get()
            self.controller.set_add_region_brush(val)
        else:
            self.update_tool = True

    def update_add_brush_sizer(self, value):
        &#34;&#34;&#34;
        Update the value of the add brush sizer

        :param value: The Value to update to
        :returns: None
        &#34;&#34;&#34;

        try:
            self.add_brush_sizer_var.set(value)
        except Exception:
            pass

    def on_remove_brush_sizer(self, a, b, c):
        &#34;&#34;&#34;
        Called when the remove brush sizer is updated

        :returns: None
        &#34;&#34;&#34;

        if self.update_tool:
            val = self.remove_brush_sizer_var.get()
            self.controller.set_remove_region_brush(val)
        else:
            self.update_tool = True

    def update_remove_brush_sizer(self, value):
        &#34;&#34;&#34;
        Update the value of the remove brush sizer

        :param value: The Value to update to
        :returns: None
        &#34;&#34;&#34;

        try:
            self.remove_brush_sizer_var.set(value)
        except Exception:
            pass

    def on_flood_add_slider(self, value):
        &#34;&#34;&#34;
        Called when the flood_add slider is moved

        :param value: The value of the slider
        :returns: None
        &#34;&#34;&#34;

        if self.update_tool:
            self.controller.set_flood_add_tolerance(float(value))
        else:
            self.update_tool = True

    def update_flood_add_slider_value(self, value):
        &#34;&#34;&#34;
        Update the value of the flood_add slider

        :param value: The value to set it to
        :returns: None
        &#34;&#34;&#34;

        try:
            self.flood_add_slider_var = value
            self.flood_add_slider.set(value)
        except Exception:
            pass

    def on_flood_remove_slider(self, value):
        &#34;&#34;&#34;
        Called when the flood_remove slider is moved

        :param value: The value of the slider
        :returns: None
        &#34;&#34;&#34;

        if self.update_tool:
            self.controller.set_flood_remove_tolerance(float(value))
        else:
            self.update_tool = True

    def update_flood_remove_slider_value(self, value):
        &#34;&#34;&#34;
        Update the value of the flood_remove slider

        :param value: The value to set it to
        :returns: None
        &#34;&#34;&#34;

        try:
            self.flood_remove_slider_var = value
            self.flood_remove_slider.set(value)
        except Exception:
            pass

    def update_info_panel(self, tool_id):
        &#34;&#34;&#34;
        Change the information in the info panel to match the current tool

        :param tool_id: The id of the tool to change to
        :returns: None
        &#34;&#34;&#34;

        self.update_tool = False

        if self.thresh_slider:
            self.thresh_slider.destroy()
            self.thresh_slider = None

        if self.add_brush_sizer:
            self.brush_size_panel.destroy()
            self.add_brush_sizer.destroy()
            self.add_brush_sizer = None

        if self.remove_brush_sizer:
            self.brush_size_panel.destroy()
            self.remove_brush_sizer.destroy()
            self.remove_brush_sizer = None

        if self.flood_add_slider:
            self.flood_add_slider.destroy()
            self.flood_add_slider = None

        if self.flood_remove_slider:
            self.flood_remove_slider.destroy()
            self.flood_remove_slider = None

        if tool_id == self.ID_TOOL_THRESH:
            self.info_panel_label.config(text=&#34;Threshold Tool&#34;)

            self.thresh_slider_var = tk.DoubleVar()

            self.thresh_slider = tk.Scale(self.info_panel,
                                          from_=0.00,
                                          to=1.00,
                                          tickinterval=0.50,
                                          resolution=0.01,
                                          length=200,
                                          variable=self.thresh_slider_var,
                                          orient=&#39;horizontal&#39;,
                                          command=self.on_thresh_slider)

            self.thresh_slider.pack(side=TOP)

        elif tool_id == self.ID_TOOL_ADD:
            self.info_panel_label.config(text=&#34;Add Region Tool&#34;)

            self.brush_size_panel = tk.Frame(self.info_panel,
                                             padx=0, pady=15)

            self.brush_size_label = tk.Label(self.brush_size_panel,
                                             text=&#34;Brush Size&#34;)

            self.add_brush_sizer_var = tk.IntVar()
            self.add_brush_sizer_var.trace(&#39;w&#39;, self.on_add_brush_sizer)

            self.add_brush_sizer = tk.Spinbox(self.brush_size_panel,
                                              from_=0,
                                              to=64,
                                              width=17,
                                              textvariable=self.
                                              add_brush_sizer_var)

            self.brush_size_label.pack(side=LEFT)
            self.add_brush_sizer.pack(side=LEFT)

            self.brush_size_panel.pack(side=TOP)

        elif tool_id == self.ID_TOOL_REMOVE:
            self.info_panel_label.config(text=&#34;Remove Region Tool&#34;)

            self.brush_size_panel = tk.Frame(self.info_panel,
                                             padx=0, pady=15)

            self.brush_size_label = tk.Label(self.brush_size_panel,
                                             text=&#34;Brush Size&#34;)

            self.remove_brush_sizer_var = tk.IntVar()
            self.remove_brush_sizer_var.trace(&#39;w&#39;, self.on_remove_brush_sizer)

            self.remove_brush_sizer = tk.Spinbox(self.brush_size_panel,
                                                 from_=0,
                                                 to=64,
                                                 width=17,
                                                 textvariable=self.
                                                 remove_brush_sizer_var)

            self.brush_size_label.pack(side=LEFT)
            self.remove_brush_sizer.pack(side=LEFT)

            self.brush_size_panel.pack(side=TOP)

        elif tool_id == self.ID_TOOL_FLOOD_ADD:
            self.info_panel_label.config(text=&#34;Flood Add Tool&#34;)

            self.flood_add_slider_var = tk.DoubleVar()

            self.flood_add_slider = tk.Scale(self.info_panel,
                                             from_=0.00,
                                             to=1.00,
                                             tickinterval=0.50,
                                             resolution=0.01,
                                             length=200,
                                             variable=self.
                                             flood_add_slider_var,
                                             orient=&#39;horizontal&#39;,
                                             command=self.on_flood_add_slider)

            self.flood_add_slider.pack(side=TOP)

        elif tool_id == self.ID_TOOL_FLOOD_REMOVE:
            self.info_panel_label.config(text=&#34;Flood Remove Tool&#34;)

            self.flood_remove_slider_var = tk.DoubleVar()

            self.flood_remove_slider = tk.Scale(self.info_panel,
                                                from_=0.00,
                                                to=1.00,
                                                tickinterval=0.50,
                                                resolution=0.01,
                                                length=200,
                                                variable=self.
                                                flood_remove_slider_var,
                                                orient=&#39;horizontal&#39;,
                                                command=self.
                                                on_flood_remove_slider)

            self.flood_remove_slider.pack(side=TOP)

    def create_annotation_preview(self, img):

        AnnotationPreview(img, self.controller)


class AboutDialog(tk.Toplevel):

    def __init__(self):
        self.base = tk.Toplevel()
        self.base.title(&#34;About&#34;)

        version_info = VersionInfo()
        current_version = version_info.get_version_string()

        latest = version_info.check_for_update()

        version_text = (&#34;You are currently using version &#34; +
                        current_version + &#34; &#34;)

        version_text += latest

        self.version_link = (&#34;https://github.com/KyleS22/friendly_ground&#34; +
                             &#34;_truth/releases/latest&#34;)

        manual_text = &#34; A user manual can be found at: &#34;
        self.manual_link = (&#34;https://github.com/KyleS22/friendly_ground&#34; +
                            &#34;_truth/wiki/User-Manual&#34;)

        bug_text = &#34;Found a bug?  Please report it at:&#34;
        self.bug_link = (&#34;https://github.com/KyleS22/friendly_ground_truth&#34; +
                         &#34;/issues&#34;)

        self.version_label = tk.Label(self.base, text=version_text)
        self.version_label.pack(pady=15)

        if version_info.check_newer_version(version_info.
                                            get_newest_release_info()):
            self.version_link_label = tk.Label(self.base,
                                               text=self.version_link,
                                               fg=&#34;blue&#34;, cursor=&#34;hand2&#34;)
            self.version_link_label.pack(pady=15)
            self.version_link_label.bind(&#34;&lt;Button-1&gt;&#34;, self.on_version_click)

        self.manual_label = tk.Label(self.base, text=manual_text)
        self.manual_label.pack(pady=15)

        self.manual_link_label = tk.Label(self.base, text=self.manual_link,
                                          fg=&#34;blue&#34;, cursor=&#34;hand2&#34;)
        self.manual_link_label.pack(pady=15)
        self.manual_link_label.bind(&#34;&lt;Button-1&gt;&#34;, self.on_manual_click)

        self.bug_label = tk.Label(self.base, text=bug_text)
        self.bug_label.pack(pady=15)

        self.bug_link_label = tk.Label(self.base, text=self.bug_link,
                                       fg=&#34;blue&#34;, cursor=&#34;hand2&#34;)
        self.bug_link_label.pack(pady=15)
        self.bug_link_label.bind(&#34;&lt;Button-1&gt;&#34;, self.on_bug_click)

    def on_version_click(self, event):
        webbrowser.open(self.version_link)

    def on_manual_click(self, event):
        webbrowser.open(self.manual_link)

    def on_bug_click(self, event):
        webbrowser.open(self.bug_link)


class KeyboardShortcutDialog(tk.Toplevel):

    def __init__(self):
        self.base = tk.Toplevel()
        self.base.title(&#34;Keyboard Shortcuts&#34;)

        thresh_data = Image.open(BytesIO(base64.b64decode(threshold_icon)))
        thresh_img = itk.PhotoImage(thresh_data)

        thresh_img_label = tk.Label(self.base, image=thresh_img)
        thresh_img_label.image = thresh_img
        thresh_img_label.grid(row=0, column=0)

        thresh_label = tk.Label(self.base, text=&#34;Threshold Tool (t)&#34;)
        thresh_label.grid(row=0, column=1)

        space_label = tk.Label(self.base, text=&#34;    &#34;)
        space_label.grid(row=0, column=2)

        add_reg_data = Image.open(BytesIO(base64.b64decode(add_region_icon)))
        add_reg_img = itk.PhotoImage(add_reg_data)

        add_reg_img_label = tk.Label(self.base, image=add_reg_img)
        add_reg_img_label.image = add_reg_img
        add_reg_img_label.grid(row=0, column=3)

        add_reg_label = tk.Label(self.base, text=&#34;Add Region Tool (a)&#34;)
        add_reg_label.grid(row=0, column=4)

        space_label = tk.Label(self.base, text=&#34;    &#34;)
        space_label.grid(row=0, column=5)

        rem_reg_data = Image.open(BytesIO(base64.
                                  b64decode(remove_region_icon)))
        rem_reg_img = itk.PhotoImage(rem_reg_data)

        rem_reg_img_label = tk.Label(self.base, image=rem_reg_img)
        rem_reg_img_label.image = rem_reg_img
        rem_reg_img_label.grid(row=0, column=6)

        rem_reg_label = tk.Label(self.base, text=&#34;Remove Region Tool (r)&#34;)
        rem_reg_label.grid(row=0, column=7)

        # space_label = tk.Label(self.base, text=&#34;    &#34;)
        # space_label.grid(row=1, column=2)

        flood_add_data = Image.open(BytesIO(base64.b64decode(flood_add_icon)))
        flood_add_reg_img = itk.PhotoImage(flood_add_data)

        flood_add_reg_img_label = tk.Label(self.base, image=flood_add_reg_img)
        flood_add_reg_img_label.image = flood_add_reg_img
        flood_add_reg_img_label.grid(row=1, column=0)

        flood_add_reg_label = tk.Label(self.base, text=&#34;Flood Add Tool (f)&#34;)
        flood_add_reg_label.grid(row=1, column=1)

        space_label = tk.Label(self.base, text=&#34;    &#34;)
        space_label.grid(row=1, column=2)

        flood_remove_data = Image.open(BytesIO(base64.
                                       b64decode(flood_remove_icon)))
        flood_rem_reg_img = itk.PhotoImage(flood_remove_data)

        flood_rem_reg_img_label = tk.Label(self.base, image=flood_rem_reg_img)
        flood_rem_reg_img_label.image = flood_rem_reg_img
        flood_rem_reg_img_label.grid(row=1, column=3)

        flood_rem_reg_label = tk.Label(self.base, text=&#34;Flood Remove Tool (l)&#34;)
        flood_rem_reg_label.grid(row=1, column=4)

        no_root_data = Image.open(BytesIO(base64.b64decode(no_root_icon)))
        no_root_img = itk.PhotoImage(no_root_data)

        no_root_img_label = tk.Label(self.base, image=no_root_img)
        no_root_img_label.image = no_root_img
        no_root_img_label.grid(row=1, column=6)

        no_root_label = tk.Label(self.base, text=&#34;No Root Tool (x)&#34;)
        no_root_label.grid(row=1, column=7)

        space_label = tk.Label(self.base, text=&#34;    &#34;)
        space_label.grid(row=2, column=5)

        undo_img_data = Image.open(BytesIO(base64.b64decode(undo_icon)))
        undo_img = itk.PhotoImage(undo_img_data)

        undo_img_label = tk.Label(self.base, image=undo_img)
        undo_img_label.image = undo_img
        undo_img_label.grid(row=2, column=0)

        undo_label = tk.Label(self.base, text=&#34;Undo (CTRL-Z)&#34;)
        undo_label.grid(row=2, column=1)

        space_label = tk.Label(self.base, text=&#34;    &#34;)
        space_label.grid(row=2, column=2)

        redo_data = Image.open(BytesIO(base64.
                               b64decode(redo_icon)))
        redo_img = itk.PhotoImage(redo_data)

        redo_img_label = tk.Label(self.base, image=redo_img)
        redo_img_label.image = redo_img
        redo_img_label.grid(row=2, column=3)

        redo_label = tk.Label(self.base, text=&#34;Redo (CTRL-R)&#34;)
        redo_label.grid(row=2, column=4)

        space_label = tk.Label(self.base, text=&#34;    &#34;)
        space_label.grid(row=2, column=5)

        prev_img_data = Image.open(BytesIO(base64.b64decode(prev_patch_icon)))
        prev_img = itk.PhotoImage(prev_img_data)

        prev_img_label = tk.Label(self.base, image=prev_img)
        prev_img_label.image = prev_img
        prev_img_label.grid(row=3, column=0)

        prev_label = tk.Label(self.base, text=&#34;Previous Patch (Left-Arrow)&#34;)
        prev_label.grid(row=3, column=1)

        space_label = tk.Label(self.base, text=&#34;    &#34;)
        space_label.grid(row=3, column=2)

        next_patch_data = Image.open(BytesIO(base64.
                                     b64decode(next_patch_icon)))
        next_img = itk.PhotoImage(next_patch_data)

        next_img_label = tk.Label(self.base, image=next_img)
        next_img_label.image = next_img
        next_img_label.grid(row=3, column=3)

        next_label = tk.Label(self.base, text=&#34;Next Patch (Right-Arrow)&#34;)
        next_label.grid(row=3, column=4)

        pan_label = tk.Label(self.base, text=&#34;Pan (Left click and drag or&#34;
                                             &#34; click  and drag mousewheel)&#34;)
        pan_label.grid(row=4, column=1)

        zoom_label = tk.Label(self.base, text=&#34;Zoom (+/- or scroll&#34;
                              &#34; mousewheel)&#34;)

        zoom_label.grid(row=4, column=4)

        adjust_label = tk.Label(self.base, text=&#34;Adjust Tool (CTRL +/- or CTRL&#34;
                                &#34; scroll mousewheel)&#34;)
        adjust_label.grid(row=4, column=7)
        #  add_tip_data = Image.open(BytesIO(base64.b64decode(add_tip_icon)))
        #  add_tip_img = itk.PhotoImage(add_tip_data)

        #  add_tip_img_label = tk.Label(self.base, image=add_tip_img)
        #  add_tip_img_label.image = add_tip_img
        #  add_tip_img_label.grid(row=3, column=6)

        #  add_tip_label = tk.Label(self.base, text=&#34;Add Root Tip (v)&#34;)
        #  add_tip_label.grid(row=3, column=7)

        # space_label = tk.Label(self.base, text=&#34;    &#34;)
        # space_label.grid(row=3, column=5)

        # add_cross_data = Image.\
        #        open(BytesIO(base64.b64decode(add_cross_icon)))
        # add_cross_img = itk.PhotoImage(add_cross_data)

        # add_cross_img_label = tk.Label(self.base, image=add_cross_img)
        # add_cross_img_label.image = add_cross_img
        # add_cross_img_label.grid(row=3, column=0)

        # add_cross_label = tk.Label(self.base, text=&#34;Add Root Crossing (c)&#34;)
        # add_cross_label.grid(row=3, column=1)

        # space_label = tk.Label(self.base, text=&#34;    &#34;)
        # space_label.grid(row=3, column=2)

        # add_branch_data = Image.open(BytesIO(base64.
        #                              b64decode(add_branch_icon)))
        # add_branch_img = itk.PhotoImage(add_branch_data)

        # add_branch_img_label = tk.Label(self.base, image=add_branch_img)
        # add_branch_img_label.image = add_branch_img
        # add_branch_img_label.grid(row=3, column=3)

        # add_branch_label = tk.Label(self.base, text=&#34;Add Root Branching (b)&#34;)
        # add_branch_label.grid(row=3, column=4)

        # remove_land_data = Image.open(BytesIO(base64
        #                                       .b64decode(remove_land_icon)))
        # remove_landmark_img = itk.PhotoImage(remove_land_data)

        # remove_landmark_img_label = tk.Label(self.base,
        #                                      image=remove_landmark_img)
        # remove_landmark_img_label.image = remove_landmark_img
        # remove_landmark_img_label.grid(row=4, column=0)

        # remove_landmark_label = tk.Label(self.base, \
        #        text=&#34;Remove Landmark (n)&#34;)
        # remove_landmark_label.grid(row=4, column=1)


class AnnotationPreview(tk.Toplevel):

    def __init__(self, img, controller):
        self.base = tk.Toplevel()
        self.base.title(&#34;Preview&#34;)

        self.canvas_size = img.shape[0]//2, img.shape[1]//2

        self.base.minsize(width=self.canvas_size[1] + 50,
                          height=self.canvas_size[0] + 50)
        self.img = img
        self.controller = controller

        self.button_panel = tk.Frame(self.base, borderwidth=5, relief=RIDGE,
                                     padx=50,
                                     pady=2)

        self.save_button = tk.Button(self.button_panel, text=&#34;Save&#34;,
                                     command=self.on_save)

        self.save_button.pack(side=RIGHT)

        self.cancel_button = tk.Button(self.button_panel, text=&#34;Cancel&#34;,
                                       command=self.on_cancel)

        self.cancel_button.pack(side=LEFT)

        self.button_panel.pack(side=TOP, fill=BOTH)

        self.canvas = tk.Canvas(self.base)
        self.canvas.pack(fill=BOTH, expand=YES)

        self.show_image()

    def on_save(self):
        self.base.withdraw()
        self.controller.save_mask()
        self.base.destroy()

    def on_cancel(self):
        self.base.destroy()

    def show_image(self):
        image = Image.fromarray(self.img)

        canvas_h = self.canvas_size[0]
        canvas_w = self.canvas_size[1]

        size = (canvas_w, canvas_h)
        image = image.resize(size)
        self.display_img = itk.PhotoImage(image=image)

        x, y = 0, 0  # self.image_x, self.image_y

        self.image_id = self.canvas.create_image(x, y, anchor=&#34;nw&#34;,
                                                 image=self.display_img)
        self.canvas.image = self.display_img
        self.canvas.pack()


class ResizingCanvas(tk.Canvas):

    def __init__(self, parent, **kwargs):
        tk.Canvas.__init__(self, parent, **kwargs)

        self.bind(&#34;&lt;Configure&gt;&#34;, self.on_resize)
        self.height = self.winfo_reqheight()
        self.width = self.winfo_reqwidth()

    def on_resize(self, event):

        wscale = float(event.width)/self.width
        hscale = float(event.height)/self.height

        self.width = event.width
        self.height = event.height

        self.config(width=self.width, height=self.height)
        self.scale(&#34;all&#34;, 0, 0, wscale, hscale)


class CreateToolTip(object):
    &#34;&#34;&#34;
    create a tooltip for a given widget
    &#34;&#34;&#34;
    def __init__(self, widget, text=&#39;widget info&#39;):
        self.waittime = 500     # miliseconds
        self.wraplength = 180   # pixels
        self.widget = widget
        self.text = text
        self.widget.bind(&#34;&lt;Enter&gt;&#34;, self.enter)
        self.widget.bind(&#34;&lt;Leave&gt;&#34;, self.leave)
        self.widget.bind(&#34;&lt;ButtonPress&gt;&#34;, self.leave)
        self.id = None
        self.tw = None

    def enter(self, event=None):
        self.schedule()

    def leave(self, event=None):
        self.unschedule()
        self.hidetip()

    def schedule(self):
        self.unschedule()
        self.id = self.widget.after(self.waittime, self.showtip)

    def unschedule(self):
        id = self.id
        self.id = None
        if id:
            self.widget.after_cancel(id)

    def showtip(self, event=None):
        x = y = 0
        x, y, cx, cy = self.widget.bbox(&#34;insert&#34;)
        x += self.widget.winfo_rootx() + 25
        y += self.widget.winfo_rooty() + 20
        # creates a toplevel window
        self.tw = tk.Toplevel(self.widget)
        # Leaves only the label and removes the app window
        self.tw.wm_overrideredirect(True)
        self.tw.wm_geometry(&#34;+%d+%d&#34; % (x, y))
        label = tk.Label(self.tw, text=self.text, justify=&#39;left&#39;,
                         background=&#34;#ffffff&#34;, relief=&#39;solid&#39;, borderwidth=1,
                         wraplength=self.wraplength)
        label.pack(ipadx=1)

    def hidetip(self):
        tw = self.tw
        self.tw = None
        if tw:
            tw.destroy()</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="friendly_ground_truth.view.tk_view.AboutDialog"><code class="flex name class">
<span>class <span class="ident">AboutDialog</span></span>
</code></dt>
<dd>
<div class="desc"><p>Toplevel widget, e.g. for dialogs.</p>
<p>Construct a toplevel widget with the parent MASTER.</p>
<p>Valid resource names: background, bd, bg, borderwidth, class,
colormap, container, cursor, height, highlightbackground,
highlightcolor, highlightthickness, menu, relief, screen, takefocus,
use, visual, width.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class AboutDialog(tk.Toplevel):

    def __init__(self):
        self.base = tk.Toplevel()
        self.base.title(&#34;About&#34;)

        version_info = VersionInfo()
        current_version = version_info.get_version_string()

        latest = version_info.check_for_update()

        version_text = (&#34;You are currently using version &#34; +
                        current_version + &#34; &#34;)

        version_text += latest

        self.version_link = (&#34;https://github.com/KyleS22/friendly_ground&#34; +
                             &#34;_truth/releases/latest&#34;)

        manual_text = &#34; A user manual can be found at: &#34;
        self.manual_link = (&#34;https://github.com/KyleS22/friendly_ground&#34; +
                            &#34;_truth/wiki/User-Manual&#34;)

        bug_text = &#34;Found a bug?  Please report it at:&#34;
        self.bug_link = (&#34;https://github.com/KyleS22/friendly_ground_truth&#34; +
                         &#34;/issues&#34;)

        self.version_label = tk.Label(self.base, text=version_text)
        self.version_label.pack(pady=15)

        if version_info.check_newer_version(version_info.
                                            get_newest_release_info()):
            self.version_link_label = tk.Label(self.base,
                                               text=self.version_link,
                                               fg=&#34;blue&#34;, cursor=&#34;hand2&#34;)
            self.version_link_label.pack(pady=15)
            self.version_link_label.bind(&#34;&lt;Button-1&gt;&#34;, self.on_version_click)

        self.manual_label = tk.Label(self.base, text=manual_text)
        self.manual_label.pack(pady=15)

        self.manual_link_label = tk.Label(self.base, text=self.manual_link,
                                          fg=&#34;blue&#34;, cursor=&#34;hand2&#34;)
        self.manual_link_label.pack(pady=15)
        self.manual_link_label.bind(&#34;&lt;Button-1&gt;&#34;, self.on_manual_click)

        self.bug_label = tk.Label(self.base, text=bug_text)
        self.bug_label.pack(pady=15)

        self.bug_link_label = tk.Label(self.base, text=self.bug_link,
                                       fg=&#34;blue&#34;, cursor=&#34;hand2&#34;)
        self.bug_link_label.pack(pady=15)
        self.bug_link_label.bind(&#34;&lt;Button-1&gt;&#34;, self.on_bug_click)

    def on_version_click(self, event):
        webbrowser.open(self.version_link)

    def on_manual_click(self, event):
        webbrowser.open(self.manual_link)

    def on_bug_click(self, event):
        webbrowser.open(self.bug_link)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>tkinter.Toplevel</li>
<li>tkinter.BaseWidget</li>
<li>tkinter.Misc</li>
<li>tkinter.Wm</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="friendly_ground_truth.view.tk_view.AboutDialog.on_bug_click"><code class="name flex">
<span>def <span class="ident">on_bug_click</span></span>(<span>self, event)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_bug_click(self, event):
    webbrowser.open(self.bug_link)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.AboutDialog.on_manual_click"><code class="name flex">
<span>def <span class="ident">on_manual_click</span></span>(<span>self, event)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_manual_click(self, event):
    webbrowser.open(self.manual_link)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.AboutDialog.on_version_click"><code class="name flex">
<span>def <span class="ident">on_version_click</span></span>(<span>self, event)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_version_click(self, event):
    webbrowser.open(self.version_link)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="friendly_ground_truth.view.tk_view.AnnotationPreview"><code class="flex name class">
<span>class <span class="ident">AnnotationPreview</span></span>
<span>(</span><span>img, controller)</span>
</code></dt>
<dd>
<div class="desc"><p>Toplevel widget, e.g. for dialogs.</p>
<p>Construct a toplevel widget with the parent MASTER.</p>
<p>Valid resource names: background, bd, bg, borderwidth, class,
colormap, container, cursor, height, highlightbackground,
highlightcolor, highlightthickness, menu, relief, screen, takefocus,
use, visual, width.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class AnnotationPreview(tk.Toplevel):

    def __init__(self, img, controller):
        self.base = tk.Toplevel()
        self.base.title(&#34;Preview&#34;)

        self.canvas_size = img.shape[0]//2, img.shape[1]//2

        self.base.minsize(width=self.canvas_size[1] + 50,
                          height=self.canvas_size[0] + 50)
        self.img = img
        self.controller = controller

        self.button_panel = tk.Frame(self.base, borderwidth=5, relief=RIDGE,
                                     padx=50,
                                     pady=2)

        self.save_button = tk.Button(self.button_panel, text=&#34;Save&#34;,
                                     command=self.on_save)

        self.save_button.pack(side=RIGHT)

        self.cancel_button = tk.Button(self.button_panel, text=&#34;Cancel&#34;,
                                       command=self.on_cancel)

        self.cancel_button.pack(side=LEFT)

        self.button_panel.pack(side=TOP, fill=BOTH)

        self.canvas = tk.Canvas(self.base)
        self.canvas.pack(fill=BOTH, expand=YES)

        self.show_image()

    def on_save(self):
        self.base.withdraw()
        self.controller.save_mask()
        self.base.destroy()

    def on_cancel(self):
        self.base.destroy()

    def show_image(self):
        image = Image.fromarray(self.img)

        canvas_h = self.canvas_size[0]
        canvas_w = self.canvas_size[1]

        size = (canvas_w, canvas_h)
        image = image.resize(size)
        self.display_img = itk.PhotoImage(image=image)

        x, y = 0, 0  # self.image_x, self.image_y

        self.image_id = self.canvas.create_image(x, y, anchor=&#34;nw&#34;,
                                                 image=self.display_img)
        self.canvas.image = self.display_img
        self.canvas.pack()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>tkinter.Toplevel</li>
<li>tkinter.BaseWidget</li>
<li>tkinter.Misc</li>
<li>tkinter.Wm</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="friendly_ground_truth.view.tk_view.AnnotationPreview.on_cancel"><code class="name flex">
<span>def <span class="ident">on_cancel</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_cancel(self):
    self.base.destroy()</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.AnnotationPreview.on_save"><code class="name flex">
<span>def <span class="ident">on_save</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_save(self):
    self.base.withdraw()
    self.controller.save_mask()
    self.base.destroy()</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.AnnotationPreview.show_image"><code class="name flex">
<span>def <span class="ident">show_image</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def show_image(self):
    image = Image.fromarray(self.img)

    canvas_h = self.canvas_size[0]
    canvas_w = self.canvas_size[1]

    size = (canvas_w, canvas_h)
    image = image.resize(size)
    self.display_img = itk.PhotoImage(image=image)

    x, y = 0, 0  # self.image_x, self.image_y

    self.image_id = self.canvas.create_image(x, y, anchor=&#34;nw&#34;,
                                             image=self.display_img)
    self.canvas.image = self.display_img
    self.canvas.pack()</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="friendly_ground_truth.view.tk_view.CreateToolTip"><code class="flex name class">
<span>class <span class="ident">CreateToolTip</span></span>
<span>(</span><span>widget, text='widget info')</span>
</code></dt>
<dd>
<div class="desc"><p>create a tooltip for a given widget</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class CreateToolTip(object):
    &#34;&#34;&#34;
    create a tooltip for a given widget
    &#34;&#34;&#34;
    def __init__(self, widget, text=&#39;widget info&#39;):
        self.waittime = 500     # miliseconds
        self.wraplength = 180   # pixels
        self.widget = widget
        self.text = text
        self.widget.bind(&#34;&lt;Enter&gt;&#34;, self.enter)
        self.widget.bind(&#34;&lt;Leave&gt;&#34;, self.leave)
        self.widget.bind(&#34;&lt;ButtonPress&gt;&#34;, self.leave)
        self.id = None
        self.tw = None

    def enter(self, event=None):
        self.schedule()

    def leave(self, event=None):
        self.unschedule()
        self.hidetip()

    def schedule(self):
        self.unschedule()
        self.id = self.widget.after(self.waittime, self.showtip)

    def unschedule(self):
        id = self.id
        self.id = None
        if id:
            self.widget.after_cancel(id)

    def showtip(self, event=None):
        x = y = 0
        x, y, cx, cy = self.widget.bbox(&#34;insert&#34;)
        x += self.widget.winfo_rootx() + 25
        y += self.widget.winfo_rooty() + 20
        # creates a toplevel window
        self.tw = tk.Toplevel(self.widget)
        # Leaves only the label and removes the app window
        self.tw.wm_overrideredirect(True)
        self.tw.wm_geometry(&#34;+%d+%d&#34; % (x, y))
        label = tk.Label(self.tw, text=self.text, justify=&#39;left&#39;,
                         background=&#34;#ffffff&#34;, relief=&#39;solid&#39;, borderwidth=1,
                         wraplength=self.wraplength)
        label.pack(ipadx=1)

    def hidetip(self):
        tw = self.tw
        self.tw = None
        if tw:
            tw.destroy()</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="friendly_ground_truth.view.tk_view.CreateToolTip.enter"><code class="name flex">
<span>def <span class="ident">enter</span></span>(<span>self, event=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def enter(self, event=None):
    self.schedule()</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.CreateToolTip.hidetip"><code class="name flex">
<span>def <span class="ident">hidetip</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def hidetip(self):
    tw = self.tw
    self.tw = None
    if tw:
        tw.destroy()</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.CreateToolTip.leave"><code class="name flex">
<span>def <span class="ident">leave</span></span>(<span>self, event=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def leave(self, event=None):
    self.unschedule()
    self.hidetip()</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.CreateToolTip.schedule"><code class="name flex">
<span>def <span class="ident">schedule</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def schedule(self):
    self.unschedule()
    self.id = self.widget.after(self.waittime, self.showtip)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.CreateToolTip.showtip"><code class="name flex">
<span>def <span class="ident">showtip</span></span>(<span>self, event=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def showtip(self, event=None):
    x = y = 0
    x, y, cx, cy = self.widget.bbox(&#34;insert&#34;)
    x += self.widget.winfo_rootx() + 25
    y += self.widget.winfo_rooty() + 20
    # creates a toplevel window
    self.tw = tk.Toplevel(self.widget)
    # Leaves only the label and removes the app window
    self.tw.wm_overrideredirect(True)
    self.tw.wm_geometry(&#34;+%d+%d&#34; % (x, y))
    label = tk.Label(self.tw, text=self.text, justify=&#39;left&#39;,
                     background=&#34;#ffffff&#34;, relief=&#39;solid&#39;, borderwidth=1,
                     wraplength=self.wraplength)
    label.pack(ipadx=1)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.CreateToolTip.unschedule"><code class="name flex">
<span>def <span class="ident">unschedule</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def unschedule(self):
    id = self.id
    self.id = None
    if id:
        self.widget.after_cancel(id)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="friendly_ground_truth.view.tk_view.KeyboardShortcutDialog"><code class="flex name class">
<span>class <span class="ident">KeyboardShortcutDialog</span></span>
</code></dt>
<dd>
<div class="desc"><p>Toplevel widget, e.g. for dialogs.</p>
<p>Construct a toplevel widget with the parent MASTER.</p>
<p>Valid resource names: background, bd, bg, borderwidth, class,
colormap, container, cursor, height, highlightbackground,
highlightcolor, highlightthickness, menu, relief, screen, takefocus,
use, visual, width.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class KeyboardShortcutDialog(tk.Toplevel):

    def __init__(self):
        self.base = tk.Toplevel()
        self.base.title(&#34;Keyboard Shortcuts&#34;)

        thresh_data = Image.open(BytesIO(base64.b64decode(threshold_icon)))
        thresh_img = itk.PhotoImage(thresh_data)

        thresh_img_label = tk.Label(self.base, image=thresh_img)
        thresh_img_label.image = thresh_img
        thresh_img_label.grid(row=0, column=0)

        thresh_label = tk.Label(self.base, text=&#34;Threshold Tool (t)&#34;)
        thresh_label.grid(row=0, column=1)

        space_label = tk.Label(self.base, text=&#34;    &#34;)
        space_label.grid(row=0, column=2)

        add_reg_data = Image.open(BytesIO(base64.b64decode(add_region_icon)))
        add_reg_img = itk.PhotoImage(add_reg_data)

        add_reg_img_label = tk.Label(self.base, image=add_reg_img)
        add_reg_img_label.image = add_reg_img
        add_reg_img_label.grid(row=0, column=3)

        add_reg_label = tk.Label(self.base, text=&#34;Add Region Tool (a)&#34;)
        add_reg_label.grid(row=0, column=4)

        space_label = tk.Label(self.base, text=&#34;    &#34;)
        space_label.grid(row=0, column=5)

        rem_reg_data = Image.open(BytesIO(base64.
                                  b64decode(remove_region_icon)))
        rem_reg_img = itk.PhotoImage(rem_reg_data)

        rem_reg_img_label = tk.Label(self.base, image=rem_reg_img)
        rem_reg_img_label.image = rem_reg_img
        rem_reg_img_label.grid(row=0, column=6)

        rem_reg_label = tk.Label(self.base, text=&#34;Remove Region Tool (r)&#34;)
        rem_reg_label.grid(row=0, column=7)

        # space_label = tk.Label(self.base, text=&#34;    &#34;)
        # space_label.grid(row=1, column=2)

        flood_add_data = Image.open(BytesIO(base64.b64decode(flood_add_icon)))
        flood_add_reg_img = itk.PhotoImage(flood_add_data)

        flood_add_reg_img_label = tk.Label(self.base, image=flood_add_reg_img)
        flood_add_reg_img_label.image = flood_add_reg_img
        flood_add_reg_img_label.grid(row=1, column=0)

        flood_add_reg_label = tk.Label(self.base, text=&#34;Flood Add Tool (f)&#34;)
        flood_add_reg_label.grid(row=1, column=1)

        space_label = tk.Label(self.base, text=&#34;    &#34;)
        space_label.grid(row=1, column=2)

        flood_remove_data = Image.open(BytesIO(base64.
                                       b64decode(flood_remove_icon)))
        flood_rem_reg_img = itk.PhotoImage(flood_remove_data)

        flood_rem_reg_img_label = tk.Label(self.base, image=flood_rem_reg_img)
        flood_rem_reg_img_label.image = flood_rem_reg_img
        flood_rem_reg_img_label.grid(row=1, column=3)

        flood_rem_reg_label = tk.Label(self.base, text=&#34;Flood Remove Tool (l)&#34;)
        flood_rem_reg_label.grid(row=1, column=4)

        no_root_data = Image.open(BytesIO(base64.b64decode(no_root_icon)))
        no_root_img = itk.PhotoImage(no_root_data)

        no_root_img_label = tk.Label(self.base, image=no_root_img)
        no_root_img_label.image = no_root_img
        no_root_img_label.grid(row=1, column=6)

        no_root_label = tk.Label(self.base, text=&#34;No Root Tool (x)&#34;)
        no_root_label.grid(row=1, column=7)

        space_label = tk.Label(self.base, text=&#34;    &#34;)
        space_label.grid(row=2, column=5)

        undo_img_data = Image.open(BytesIO(base64.b64decode(undo_icon)))
        undo_img = itk.PhotoImage(undo_img_data)

        undo_img_label = tk.Label(self.base, image=undo_img)
        undo_img_label.image = undo_img
        undo_img_label.grid(row=2, column=0)

        undo_label = tk.Label(self.base, text=&#34;Undo (CTRL-Z)&#34;)
        undo_label.grid(row=2, column=1)

        space_label = tk.Label(self.base, text=&#34;    &#34;)
        space_label.grid(row=2, column=2)

        redo_data = Image.open(BytesIO(base64.
                               b64decode(redo_icon)))
        redo_img = itk.PhotoImage(redo_data)

        redo_img_label = tk.Label(self.base, image=redo_img)
        redo_img_label.image = redo_img
        redo_img_label.grid(row=2, column=3)

        redo_label = tk.Label(self.base, text=&#34;Redo (CTRL-R)&#34;)
        redo_label.grid(row=2, column=4)

        space_label = tk.Label(self.base, text=&#34;    &#34;)
        space_label.grid(row=2, column=5)

        prev_img_data = Image.open(BytesIO(base64.b64decode(prev_patch_icon)))
        prev_img = itk.PhotoImage(prev_img_data)

        prev_img_label = tk.Label(self.base, image=prev_img)
        prev_img_label.image = prev_img
        prev_img_label.grid(row=3, column=0)

        prev_label = tk.Label(self.base, text=&#34;Previous Patch (Left-Arrow)&#34;)
        prev_label.grid(row=3, column=1)

        space_label = tk.Label(self.base, text=&#34;    &#34;)
        space_label.grid(row=3, column=2)

        next_patch_data = Image.open(BytesIO(base64.
                                     b64decode(next_patch_icon)))
        next_img = itk.PhotoImage(next_patch_data)

        next_img_label = tk.Label(self.base, image=next_img)
        next_img_label.image = next_img
        next_img_label.grid(row=3, column=3)

        next_label = tk.Label(self.base, text=&#34;Next Patch (Right-Arrow)&#34;)
        next_label.grid(row=3, column=4)

        pan_label = tk.Label(self.base, text=&#34;Pan (Left click and drag or&#34;
                                             &#34; click  and drag mousewheel)&#34;)
        pan_label.grid(row=4, column=1)

        zoom_label = tk.Label(self.base, text=&#34;Zoom (+/- or scroll&#34;
                              &#34; mousewheel)&#34;)

        zoom_label.grid(row=4, column=4)

        adjust_label = tk.Label(self.base, text=&#34;Adjust Tool (CTRL +/- or CTRL&#34;
                                &#34; scroll mousewheel)&#34;)
        adjust_label.grid(row=4, column=7)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>tkinter.Toplevel</li>
<li>tkinter.BaseWidget</li>
<li>tkinter.Misc</li>
<li>tkinter.Wm</li>
</ul>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow"><code class="flex name class">
<span>class <span class="ident">MainWindow</span></span>
<span>(</span><span>controller, master)</span>
</code></dt>
<dd>
<div class="desc"><p>Frame widget which may contain other widgets and can have a 3D border.</p>
<p>Construct a frame widget with the parent MASTER.</p>
<p>Valid resource names: background, bd, bg, borderwidth, class,
colormap, container, cursor, height, highlightbackground,
highlightcolor, highlightthickness, relief, takefocus, visual, width.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class MainWindow(Frame):

    # Constant button IDs
    ID_TOOL_THRESH = 101
    ID_TOOL_ADD = 102
    ID_TOOL_REMOVE = 103
    ID_TOOL_NO_ROOT = 104
    ID_TOOL_PREV_IMAGE = 105
    ID_TOOL_NEXT_IMAGE = 106
    ID_TOOL_ZOOM = 107
    ID_TOOL_FLOOD_ADD = 108
    ID_TOOL_FLOOD_REMOVE = 109
    ID_TOOL_ADD_TIP = 110
    ID_TOOL_ADD_CROSS = 111
    ID_TOOL_ADD_BRANCH = 112
    ID_TOOL_REMOVE_LANDMARK = 113
    ID_ADJUST_TOOL = 114
    ID_TOOL_UNDO = 115
    ID_TOOL_REDO = 116

    MAX_SCALE = 16
    MIN_SCALE = 0.25

    def __init__(self, controller, master):

        super().__init__()
        Frame.__init__(self, master=None)

        self.master = master
        self.controller = controller

        self.image_scale = 1
        self.image_x = 0
        self.image_y = 0
        self.image_id = None

        self.brush_radius = 0
        self.zoom_cursor = False
        self.flood_cursor = False
        self.brush_cursor = None

        self.can_draw = True

        self.previous_position = (0, 0)

        self.ctrl_pressed = False

        # master.geometry(&#34;500x300+300+300&#34;)
        master.title(&#34;Friendly Ground Truth&#34;)
        # Initialize the logger
        self.logger = logging.getLogger(&#39;friendly_gt.view.MainWindow&#39;)

        self.create_menubar()

        self.create_info_panel()

        self.create_canvas()
        self.set_up_interactions()

        self.master.bind(&#34;&lt;FocusIn&gt;&#34;, self.handle_focus)

        self.control_down = False
        self.alt_down = False
        self.dragged = False

    def handle_focus(self, event):
        &#34;&#34;&#34;
        Called when the window comes into focus

        :param event: The event
        :returns: None
        &#34;&#34;&#34;
        if self.flood_cursor:
            self.canvas.config(cursor=&#39;cross&#39;)
        else:
            self.canvas.config(cursor=&#39;none&#39;)

    def set_up_interactions(self):
        &#34;&#34;&#34;
        Set up user interactions with keyboard and mouse

        :returns: None
        &#34;&#34;&#34;

        # Apparently bindings are different fro different OSes
        if platform == &#34;linux&#34; or platform == &#34;linux2&#34;:
            self.bind_all(&#34;&lt;Button-4&gt;&#34;, self.on_mousewheel)
            self.bind_all(&#34;&lt;Button-5&gt;&#34;, self.on_mousewheel)
        # Mac
        elif platform == &#34;darwin&#34;:
            self.bind_all(&#34;&lt;MouseWheel&gt;&#34;, self.on_mousewheel)

        elif platform == &#34;win32&#34;:
            self.bind_all(&#34;&lt;MouseWheel&gt;&#34;, self.on_mousewheel)

        self.canvas.bind(&#34;&lt;B1-Motion&gt;&#34;, self.on_drag)

        self.canvas.bind(&#34;&lt;Button-1&gt;&#34;, self.on_click)
        self.bind_all(&#34;&lt;ButtonRelease-1&gt;&#34;, self.on_click_release)

        self.bind_all(&#34;&lt;B2-Motion&gt;&#34;, self.on_wheel_motion)
        self.bind_all(&#34;&lt;Button-2&gt;&#34;, self.on_wheel_click)
        self.bind_all(&#34;&lt;ButtonRelease-2&gt;&#34;, self.on_wheel_release)

        self.bind_all(&#34;&lt;Button-3&gt;&#34;, self.on_right_click)

        self.bind_all(&#34;&lt;KeyPress&gt;&#34;, self.on_keypress)
        self.bind_all(&#34;&lt;Left&gt;&#34;, self.on_left)
        self.bind_all(&#34;&lt;Right&gt;&#34;, self.on_right)
        self.bind_all(&#34;&lt;KeyRelease-Control_L&gt;&#34;, self.on_control_release)
        #self.bind_all(&#34;&lt;Alt-equal&gt;&#34;, self.on_key_increase_tool)
        # self.bind_all(&#34;&lt;Alt-minus&gt;&#34;, self.on_key_decrease_tool)

    def on_key_increase_tool(self, event):
        self.controller.change_secondary_mode(self.ID_ADJUST_TOOL)
        self.controller.handle_mouse_wheel(1, 0, 0)
        self.controller.change_secondary_mode(self.ID_TOOL_ZOOM)

    def on_key_decrease_tool(self, event):
        self.controller.change_secondary_mode(self.ID_ADJUST_TOOL)
        self.controller.handle_mouse_wheel(-1, 0, 0)
        self.controller.change_secondary_mode(self.ID_TOOL_ZOOM)

    def on_control_release(self, event):

        self.control_down = False

    def create_canvas(self):
        &#34;&#34;&#34;
        Set up a canvas for displaying images

        :returns: None
        &#34;&#34;&#34;

        self.canvas = ResizingCanvas(self, cursor=&#39;none&#39;)
        self.canvas.bind(&#34;&lt;Enter&gt;&#34;, self.on_enter_canvas)
        self.canvas.bind(&#34;&lt;Leave&gt;&#34;, self.on_leave_canvas)
        self.canvas.bind(&#34;&lt;Motion&gt;&#34;, self.on_motion)
        self.canvas.pack(fill=BOTH, expand=YES)

    def create_info_panel(self):
        &#34;&#34;&#34;
        Create a panel for information about the current tool

        :returns: None
        &#34;&#34;&#34;

        self.info_panel = tk.Frame(self, borderwidth=5, relief=RIDGE,
                                   padx=50,
                                   pady=2)

        self.info_panel_label = tk.Label(self.info_panel,
                                         text=&#34;No Tool Selected&#34;)

        self.info_panel_label.pack()
        self.info_panel.pack(side=BOTTOM, fill=BOTH)

        self.thresh_slider = None
        self.add_brush_sizer = None
        self.remove_brush_sizer = None
        self.flood_add_slider = None
        self.flood_remove_slider = None

    def create_menubar(self):
        &#34;&#34;&#34;
        Create the menu bar

        :returns: None
        &#34;&#34;&#34;

        self.menubar = tk.Menu(self.master)

        self.create_file_menu()

        self.create_help_menu()

        self.create_toolbar()

        self.master.config(menu=self.menubar)

    def create_help_menu(self):
        &#34;&#34;&#34;
        Create the help menu bar

        :returns: None
        &#34;&#34;&#34;

        self.helpmenu = tk.Menu(self.menubar, tearoff=0)

        self.helpmenu.add_command(label=&#34;About&#34;,
                                  command=self.on_about)

        self.helpmenu.add_command(label=&#34;Keyboard Shortcuts&#34;,
                                  command=self.on_keyboard_shortcuts)

        self.menubar.add_cascade(label=&#34;Help&#34;, menu=self.helpmenu)

    def create_file_menu(self):
        &#34;&#34;&#34;
        Create the file menu bar

        :returns: None
        &#34;&#34;&#34;

        self.filemenu = tk.Menu(self.menubar, tearoff=0)

        self.filemenu.add_command(label=&#34;Load Image&#34;,
                                  command=self.on_load_image)

        self.filemenu.add_command(label=&#34;Save Mask&#34;, command=self.on_save_mask)

        self.menubar.add_cascade(label=&#34;File&#34;, menu=self.filemenu)

    def create_toolbar(self):
        &#34;&#34;&#34;
        Create the toolbar

        :returns: None
        &#34;&#34;&#34;

        self.toolbar = tk.Frame(self.master, bd=1, relief=RAISED)
        self.toolbar_buttons = {}

        # Threshold Button
        thresh_data = Image.open(BytesIO(base64.b64decode(threshold_icon)))
        thresh_img = itk.PhotoImage(thresh_data)
        thresh_button = tk.Button(self.toolbar, image=thresh_img,
                                  relief=FLAT, command=self.on_threshold_tool)
        thresh_button.image = thresh_img
        thresh_button.pack(side=LEFT, padx=2, pady=2)

        CreateToolTip(thresh_button, &#34;Threshold (t)&#34;)

        # Add Region Button
        add_region_data = Image.open(BytesIO(base64.
                                             b64decode(add_region_icon)))
        add_reg_img = itk.PhotoImage(add_region_data)

        add_reg_button = tk.Button(self.toolbar, image=add_reg_img,
                                   relief=FLAT, command=self.on_add_reg_tool)
        add_reg_button.image = add_reg_img
        add_reg_button.pack(side=LEFT, padx=2, pady=2)

        CreateToolTip(add_reg_button, &#34;Add Region (a)&#34;)

        # Remove Region Button
        remove_region_data = Image.open(BytesIO(base64.
                                                b64decode(remove_region_icon)))
        remove_reg_img = itk.PhotoImage(remove_region_data)
        remove_reg_button = tk.Button(self.toolbar, image=remove_reg_img,
                                      relief=FLAT,
                                      command=self.on_remove_reg_tool)
        remove_reg_button.image = remove_reg_img
        remove_reg_button.pack(side=LEFT, padx=2, pady=2)

        CreateToolTip(remove_reg_button, &#34;Remove Region (r)&#34;)

        # Flood Add Button
        flood_add_data = Image.open(BytesIO(base64.b64decode(flood_add_icon)))
        flood_add_img = itk.PhotoImage(flood_add_data)
        flood_add_button = tk.Button(self.toolbar, image=flood_add_img,
                                     relief=FLAT,
                                     command=self.on_flood_add_tool)
        flood_add_button.image = flood_add_img
        flood_add_button.pack(side=LEFT, padx=2, pady=2)

        CreateToolTip(flood_add_button, &#34;Flood Add (f)&#34;)

        # Flood Remove Button
        flood_remove_data = Image.open(BytesIO(base64.
                                               b64decode(flood_remove_icon)))
        flood_remove_img = itk.PhotoImage(flood_remove_data)
        flood_remove_button = tk.Button(self.toolbar, image=flood_remove_img,
                                        relief=FLAT,
                                        command=self.on_flood_remove_tool)
        flood_remove_button.image = flood_remove_img
        flood_remove_button.pack(side=LEFT, padx=2, pady=2)

        CreateToolTip(flood_remove_button, &#34;Flood Remove (l)&#34;)

        # No Root Button
        no_root_data = Image.open(BytesIO(base64.b64decode(no_root_icon)))
        no_root_img = itk.PhotoImage(no_root_data)
        no_root_button = tk.Button(self.toolbar, image=no_root_img,
                                   relief=FLAT,
                                   command=self.on_no_root_tool)
        no_root_button.image = no_root_img
        no_root_button.pack(side=LEFT, padx=2, pady=2)

        CreateToolTip(no_root_button, &#34;No Root (x)&#34;)

        sep = tk.ttk.Separator(self.toolbar, orient=&#34;vertical&#34;)
        sep.pack(side=LEFT, padx=5, fill=BOTH)

        # Undo Button
        undo_data = Image.open(BytesIO(base64.b64decode(undo_icon)))
        undo_img = itk.PhotoImage(undo_data)
        undo_button = tk.Button(self.toolbar, image=undo_img,
                                relief=FLAT,
                                command=self.controller.undo)
        undo_button.image = undo_img
        undo_button.pack(side=LEFT, padx=2, pady=2)

        CreateToolTip(undo_button, &#34;Undo (CTRL+Z)&#34;)

        # Redo Button
        redo_data = Image.open(BytesIO(base64.b64decode(redo_icon)))
        redo_img = itk.PhotoImage(redo_data)
        redo_button = tk.Button(self.toolbar, image=redo_img,
                                relief=FLAT,
                                command=self.controller.redo)
        redo_button.image = redo_img
        redo_button.pack(side=LEFT, padx=2, pady=2)
        redo_button.config(state=&#34;disabled&#34;)

        CreateToolTip(redo_button, &#34;Redo (CTRL+R)&#34;)

        sep = tk.ttk.Separator(self.toolbar, orient=&#34;vertical&#34;)
        sep.pack(side=LEFT, padx=5, fill=BOTH)

        # Prev Button
        prev_data = Image.open(BytesIO(base64.b64decode(prev_patch_icon)))
        prev_img = itk.PhotoImage(prev_data)
        prev_button = tk.Button(self.toolbar, image=prev_img,
                                relief=FLAT,
                                command=self.on_prev_tool)
        prev_button.image = prev_img
        prev_button.pack(side=LEFT, padx=2, pady=2)

        CreateToolTip(prev_button, &#34;Previous Patch (&lt;Left Arrow&gt;)&#34;)

        # Next Button
        next_data = Image.open(BytesIO(base64.b64decode(next_patch_icon)))
        next_img = itk.PhotoImage(next_data)
        next_button = tk.Button(self.toolbar, image=next_img,
                                relief=FLAT,
                                command=self.on_next_tool)
        next_button.image = next_img
        next_button.pack(side=LEFT, padx=2, pady=2)

        CreateToolTip(next_button, &#34;Next Patch (&lt;Right Arrow&gt;)&#34;)

        # Add Tip Button
        # add_tip_data = Image.open(BytesIO(base64.b64decode(add_tip_icon)))
        # add_tip_img = itk.PhotoImage(add_tip_data)

        # add_tip_button = tk.Button(self.toolbar, image=add_tip_img,
        #                           relief=FLAT, command=self.on_add_tip_tool)
        # add_tip_button.image = add_tip_img
        # add_tip_button.pack(side=LEFT, padx=2, pady=2)

        # Add Cross Button
        # add_cross_data = Image.\
        #        open(BytesIO(base64.b64decode(add_cross_icon)))
        # add_cross_img = itk.PhotoImage(add_cross_data)

        # add_cross_button = tk.Button(self.toolbar, image=add_cross_img,
        #                              relief=FLAT,
        #                              command=self.on_add_cross_tool)
        # add_cross_button.image = add_cross_img
        # add_cross_button.pack(side=LEFT, padx=2, pady=2)

        # Add Branch Button
        # add_branch_data = Image.open(BytesIO(base64
        #                                      .b64decode(add_branch_icon)))
        # add_branch_img = itk.PhotoImage(add_branch_data)
        # add_branch_button = tk.Button(self.toolbar, image=add_branch_img,
        #                               relief=FLAT,
        #                               command=self.on_add_branch_tool)
        # add_branch_button.image = add_branch_img
        # add_branch_button.pack(side=LEFT, padx=2, pady=2)

        # Remove Landmark Button
        # remove_landmark_data = Image.open(BytesIO(base64.
        #                                           b64decode(remove_land_icon)))
        # remove_landmark_img = itk.PhotoImage(remove_landmark_data)

        # remove_landmark_button = tk.Button(self.toolbar,
        #                                    image=remove_landmark_img,
        #                                    relief=FLAT,
        #                                    command=self.
        #                                    on_remove_landmark_tool)

        # remove_landmark_button.image = remove_landmark_img
        # remove_landmark_button.pack(side=LEFT, padx=2, pady=2)

        self.orig_button_colour = remove_reg_button.cget(&#34;background&#34;)

        self.toolbar_buttons[self.ID_TOOL_THRESH] = thresh_button
        self.toolbar_buttons[self.ID_TOOL_ADD] = add_reg_button
        self.toolbar_buttons[self.ID_TOOL_REMOVE] = remove_reg_button
        self.toolbar_buttons[self.ID_TOOL_NO_ROOT] = no_root_button
        self.toolbar_buttons[self.ID_TOOL_PREV_IMAGE] = prev_button
        self.toolbar_buttons[self.ID_TOOL_NEXT_IMAGE] = next_button
        self.toolbar_buttons[self.ID_TOOL_FLOOD_ADD] = flood_add_button
        self.toolbar_buttons[self.ID_TOOL_FLOOD_REMOVE] = flood_remove_button
        # self.toolbar_buttons[self.ID_TOOL_ADD_TIP] = add_tip_button
        # self.toolbar_buttons[self.ID_TOOL_ADD_CROSS] = add_cross_button
        # self.toolbar_buttons[self.ID_TOOL_ADD_BRANCH] = add_branch_button
        # self.toolbar_buttons[self.ID_TOOL_REMOVE_LANDMARK] = \
        #    remove_landmark_button
        self.toolbar_buttons[self.ID_TOOL_UNDO] = undo_button
        self.toolbar_buttons[self.ID_TOOL_REDO] = redo_button

        self.image_indicator = tk.Label(self.toolbar, text=&#34;No Image Loaded&#34;)
        self.image_indicator.pack(side=RIGHT, padx=2, pady=2)

        self.toolbar.pack(side=TOP, fill=X)

        self.pack()

    def on_about(self):
        &#34;&#34;&#34;
        Display the about dialog

        :param event: The event
        :returns: None
        &#34;&#34;&#34;
        AboutDialog()

    def on_keyboard_shortcuts(self):
        &#34;&#34;&#34;
        Display the keyboard shortcut dialog

        :returns: None
        &#34;&#34;&#34;
        KeyboardShortcutDialog()

    def on_left(self, event):
        &#34;&#34;&#34;
        Called when the left arrow key is pressed

        :param event: The event
        :returns: None
        &#34;&#34;&#34;

        self.on_prev_tool()

    def on_right(self, event):
        &#34;&#34;&#34;
        Called when the right arrow key is pressed

        :param event: Ethe event
        :returns: None
        &#34;&#34;&#34;

        self.on_next_tool()

    def on_keypress(self, event):
        &#34;&#34;&#34;
        Called when a key on the keyboard is pressed

        :param event: The event
        :returns: None
        &#34;&#34;&#34;

        key = event.char
        s = event.state
        ctrl = (s &amp; 0x4) != 0
        alt = (s &amp; 0x8) != 0 or (s &amp; 0x80) != 0
        shift = (s &amp; 0x1) != 0

        if shift:
            key = &#39;shift+&#39; + key

        if alt:
            key = &#39;alt+&#39; + key

        if ctrl:
            self.control_down = True
            key = &#39;ctrl+&#39; + key


        if self.control_down:
            key = event.keysym

            if key == &#39;z&#39;:
                self.controller.undo()
            elif key == &#39;r&#39;:
                self.controller.redo()
            elif key == &#39;equal&#39; or key == &#34;plus&#34;:
                self.on_key_increase_tool(None)

            elif key == &#39;minus&#39;:
                self.on_key_decrease_tool(None)

        else:
            if key == &#39;x&#39;:
                self.on_no_root_tool()

            elif key == &#34;t&#34;:
                self.on_threshold_tool()

            elif key == &#34;a&#34;:
                self.on_add_reg_tool()

            elif key == &#34;r&#34;:
                self.on_remove_reg_tool()

            elif key == &#34;f&#34;:
                self.on_flood_add_tool()

            elif key == &#34;l&#34;:
                self.on_flood_remove_tool()

            elif key == &#39;=&#39; or key ==&#34;+&#34;:
                x = self.previous_position[0]
                y = self.previous_position[1]

                self.controller.handle_zoom(1, x, y)

            elif key == &#39;-&#39;:
                x = self.previous_position[0]
                y = self.previous_position[1]

                self.controller.handle_zoom(-1, x, y)

            # elif key == &#34;c&#34;:
            #    self.on_add_cross_tool()

            # elif key == &#34;v&#34;:
            #    self.on_add_tip_tool()

            # elif key == &#34;b&#34;:
            #     self.on_add_branch_tool()

            # elif key == &#34;n&#34;:
            #    self.on_remove_landmark_tool()

    def on_load_image(self):
        &#34;&#34;&#34;
        Called when the load image button is chosen

        :returns: None
        &#34;&#34;&#34;

        self.controller.load_new_image()
        self.old_img = None

        image_name = self.controller.image.path

        self.image_indicator.config(text=&#34;Annotating &#34; + image_name)

    def start_progressbar(self, num_patches):
        &#34;&#34;&#34;
        Start displaying a progressbar

        :returns: None
        &#34;&#34;&#34;
        self.prog_popup = tk.Toplevel()

        self.prog_popup.geometry(&#34;100x50+500+400&#34;)

        tk.Label(self.prog_popup, text=&#34;Image Loading&#34;).grid(row=0, column=0)

        self.load_progress = 0
        self.load_prog_var = tk.DoubleVar()
        self.load_prog_bar = ttk.Progressbar(self.prog_popup,
                                             variable=self.load_prog_var,
                                             maximum=100)
        self.load_prog_bar.grid(row=1, column=0)

        self.progress_step = float(100.0/num_patches)
        self.prog_popup.pack_slaves()

    def show_image(self, img):
        &#34;&#34;&#34;
        Display the given image in the main window

        :param img: The image to display
        :returns: None
        &#34;&#34;&#34;

        if self.image_id:
            self.canvas.delete(self.image_id)

        self.current_image = img

        image = Image.fromarray(img)

        self.display_img = itk.PhotoImage(image=image,
                                          master=self.master)
        iw, ih = image.size

        size = int(iw * self.image_scale), int(ih * self.image_scale)

        self.logger.debug(&#34;Image Size: {}, Canvas Size: {}&#34;.format(size,
                          (self.canvas.winfo_width(),
                           self.canvas.winfo_height())))

        canvas_w = self.canvas.winfo_width()
        canvas_h = self.canvas.winfo_height()

        image = image.resize(size)

        x, y = self.image_x, self.image_y

        if size[0] &gt; canvas_w and size[1] &gt; canvas_h:
            left = -self.image_x
            right = canvas_w - self.image_x
            upper = -self.image_y
            lower = canvas_h - self.image_y

            image = image.crop([left, upper, right, lower])

            x, y = 0, 0

        self.display_img = itk.PhotoImage(image=image)

        self.image_id = self.canvas.create_image(x, y, anchor=&#34;nw&#34;,
                                                 image=self.display_img)
        self.canvas.scale(ALL, x, y, self.image_scale, self.image_scale)

        self.canvas.pack()
        self.logger.debug(&#34;Image displayed&#34;)

    def on_save_mask(self):
        &#34;&#34;&#34;
        Called when the save mask button is chosem

        :returns: None
        &#34;&#34;&#34;
        self.controller.save_mask()

    def change_toolbar_state(self, new_tool_id):
        &#34;&#34;&#34;
        Change the state of the buttons in the toolbar based on the button that
        has been chosen

        :param new_tool_id: The id of the tool that was chosen
        :returns: None
        &#34;&#34;&#34;
        for id, button in self.toolbar_buttons.items():
            if id == new_tool_id:
                if platform != &#34;darwin&#34;:
                    button.config(relief=SUNKEN)
                button.config(bg=&#34;yellow&#34;)

            else:
                if platform != &#34;darwin&#34;:
                    button.config(relief=RAISED)

                button.config(bg=self.orig_button_colour)

    def on_threshold_tool(self):
        &#34;&#34;&#34;
        Called when the threshold tool is chosen

        :returns: None
        &#34;&#34;&#34;

        self.change_toolbar_state(self.ID_TOOL_THRESH)
        self.logger.debug(&#34;Threshold tool chosen&#34;)
        self.update_info_panel(self.ID_TOOL_THRESH)
        self.controller.change_mode(self.ID_TOOL_THRESH)

    def on_add_reg_tool(self):
        &#34;&#34;&#34;
        Called when the add region brush tool is chosen

        :returns: None
        &#34;&#34;&#34;

        self.change_toolbar_state(self.ID_TOOL_ADD)
        self.update_info_panel(self.ID_TOOL_ADD)
        self.controller.change_mode(self.ID_TOOL_ADD)

    # def on_add_tip_tool(self):
    #     &#34;&#34;&#34;
    #     Called when the add tip brush tool is chosen

    #     :returns: None
    #     &#34;&#34;&#34;

    #     self.change_toolbar_state(self.ID_TOOL_ADD_TIP)

    #     self.controller.change_mode(self.ID_TOOL_ADD_TIP)

    # def on_add_cross_tool(self):
    #     &#34;&#34;&#34;
    #     Called when the add cross brush tool is chosen

    #     :returns: None
    #     &#34;&#34;&#34;

    #     self.change_toolbar_state(self.ID_TOOL_ADD_CROSS)

    #     self.controller.change_mode(self.ID_TOOL_ADD_CROSS)

    # def on_add_branch_tool(self):
    #     &#34;&#34;&#34;
    #     Called when the add branch brush tool is chosen

    #     :returns: None
    #     &#34;&#34;&#34;

    #     self.change_toolbar_state(self.ID_TOOL_ADD_BRANCH)

    #     self.controller.change_mode(self.ID_TOOL_ADD_BRANCH)

    # def on_remove_landmark_tool(self):
    #     &#34;&#34;&#34;
    #     Called when the remoive landmark brush tool is chosen

    #     :returns: None
    #     &#34;&#34;&#34;

    #     self.change_toolbar_state(self.ID_TOOL_REMOVE_LANDMARK)

    #     self.controller.change_mode(self.ID_TOOL_REMOVE_LANDMARK)

    def on_remove_reg_tool(self):
        &#34;&#34;&#34;
        Called when the remove region brush tool is chosen

        :returns: None
        &#34;&#34;&#34;
        self.change_toolbar_state(self.ID_TOOL_REMOVE)
        self.update_info_panel(self.ID_TOOL_REMOVE)
        self.controller.change_mode(self.ID_TOOL_REMOVE)

    def on_no_root_tool(self):
        &#34;&#34;&#34;
        Called when the no root tool is chosen

        :returns: None
        &#34;&#34;&#34;
        self.controller.change_mode(self.ID_TOOL_NO_ROOT)

    def on_flood_add_tool(self):
        &#34;&#34;&#34;
        Called when the flood add tool is chosen

        :returns: None
        &#34;&#34;&#34;
        self.change_toolbar_state(self.ID_TOOL_FLOOD_ADD)
        self.update_info_panel(self.ID_TOOL_FLOOD_ADD)
        self.controller.change_mode(self.ID_TOOL_FLOOD_ADD)

    def on_flood_remove_tool(self):
        &#34;&#34;&#34;
        Called when the flood remove tool is chosen

        :returns: None
        &#34;&#34;&#34;
        self.change_toolbar_state(self.ID_TOOL_FLOOD_REMOVE)
        self.update_info_panel(self.ID_TOOL_FLOOD_REMOVE)
        self.controller.change_mode(self.ID_TOOL_FLOOD_REMOVE)

    def on_prev_tool(self):
        &#34;&#34;&#34;
        Called when the previous patch button is chosen

        :returns: None
        &#34;&#34;&#34;
        self.controller.prev_patch()

    def on_next_tool(self):
        &#34;&#34;&#34;
        Called when the next patch button is chosen

        :returns: None
        &#34;&#34;&#34;
        self.controller.next_patch()

    def on_mousewheel(self, event):
        &#34;&#34;&#34;
        Called when the mouse wheel is scrolled

        :returns: None
        &#34;&#34;&#34;
        self.logger.debug(&#34;Mouse Wheel {} {}&#34;.format(event.delta, event.num))

        # Linux events are weird
        if event.num == 4:
            rotation = 120
        elif event.num == 5:
            rotation = -120

        # Capture windows and mac events
        if event.delta != 0:
            rotation = event.delta

        self.previous_position = event.x, event.y
        s = event.state

        #alt = (s &amp; 0x8) != 0 or (s &amp; 0x80) != 0
        ctrl = (s &amp; 0x4) != 0

        if ctrl:
            self.controller.change_secondary_mode(self.ID_ADJUST_TOOL)

        self.controller.handle_mouse_wheel(rotation, event.x, event.y)
        self.controller.change_secondary_mode(self.ID_TOOL_ZOOM)

    def on_drag(self, event):
        &#34;&#34;&#34;
        called when the mouse is dragged while the left button is clicked

        :param event: the mouse event
        :returns: none
        &#34;&#34;&#34;
        state = event.state
        self.dragged = True
        # ctrl = (state &amp; 0x4) != 0

        # if not ctrl:
        #    self.controller.handle_motion((event.x, event.y))
        # else:
        self.canvas.config(cursor=&#34;hand2&#34;)
        self.controller.handle_mouse_wheel_motion((event.x, event.y))

        self.previous_position = (event.x, event.y)
        self.on_motion(event)

    def on_wheel_motion(self, event):
        &#34;&#34;&#34;
        Called when the mouuse is dragged with the mouswheel pressed

        :param event: The mouse event
        :returns: None
        &#34;&#34;&#34;

        self.controller.handle_mouse_wheel_motion((event.x, event.y))
        self.previous_position = (event.x, event.y)

    def on_motion(self, event):
        &#34;&#34;&#34;
        Called when the mouse is moved on the canvas

        :param event: The event
        :returns: None
        &#34;&#34;&#34;

        pos = event.x, event.y

        if not self.zoom_cursor and not self.flood_cursor:
            self.draw_brush(pos)

    def draw_brush(self, pos=None):
        &#34;&#34;&#34;
        Draw the paintbrush curost

        :param pos: The position to draw at
        :returns: None
        &#34;&#34;&#34;

        if self.brush_cursor is not None:
            self.canvas.delete(self.brush_cursor)

        if pos is None:
            pos = self.previous_position

        x_max = pos[0] + self.brush_radius
        x_min = pos[0] - self.brush_radius
        y_max = pos[1] + self.brush_radius
        y_min = pos[1] - self.brush_radius

        self.brush_cursor = self.canvas.create_oval(x_max, y_max, x_min, y_min,
                                                    outline=&#39;white&#39;)

    def on_wheel_click(self, event):
        &#34;&#34;&#34;
        Called when the mouse wheel is clicekd

        :param event: The Mouse event
        :returns: None
        &#34;&#34;&#34;
        self.canvas.config(cursor=&#34;hand2&#34;)
        self.previous_position = (event.x, event.y)

    def on_wheel_release(self, event):
        &#34;&#34;&#34;
        Called when the mouse wheel is released

        :param event: THe mouse event
        :returns: None
        &#34;&#34;&#34;
        self.on_enter_canvas(event)

    def on_click(self, event):
        &#34;&#34;&#34;
        Called when the left mouse button is clicked

        :param event: The mouse event
        :returns: None
        &#34;&#34;&#34;
        self.previous_position = (event.x, event.y)

        self.logger.debug(&#34;Click location: {}, {}&#34;.format(event.x, event.y))

        #if self.can_draw:
        #    self.controller.handle_left_click((event.x, event.y))

    def on_click_release(self, event):
        &#34;&#34;&#34;
        Called when the left mouse button is released

        :param event: Mouse Event
        :returns: None
        &#34;&#34;&#34;
        self.on_enter_canvas(None)

        if self.can_draw and not self.dragged:
            self.controller.handle_left_click((event.x, event.y))

        self.dragged = False

    def on_right_click(self, event):
        &#34;&#34;&#34;
        Called when the right mouse button is clicked

        :param event: The mouse event
        :returns: None
        &#34;&#34;&#34;
        self.logger.debug(&#34;Right Click&#34;)
        if self.can_draw:
            self.controller.handle_right_click()

    def set_brush_radius(self, radius):
        &#34;&#34;&#34;
        Set the radius of the brush cursor representing the current brush

        :param radius: The radius to draw the brush
        :returns: None
        &#34;&#34;&#34;

        self.brush_radius = radius

    def on_enter_canvas(self, event):
        &#34;&#34;&#34;
        Called when the cursor enters the canvas

        :param event: The event
        :returns: None
        &#34;&#34;&#34;
        self.can_draw = True
        if self.flood_cursor:
            self.canvas.config(cursor=&#39;cross&#39;)

        else:
            self.canvas.config(cursor=&#39;none&#39;)

    def on_leave_canvas(self, event):
        &#34;&#34;&#34;
        Called when the mouse cursor leaves the canvas

        :param event: The event
        :returns: none
        &#34;&#34;&#34;
        # Toto, I don&#39;t think we&#39;re in canvas anymore...
        self.can_draw = False

    def on_thresh_slider(self, value):
        &#34;&#34;&#34;
        Called when the threshold slider is moved

        :param value: The value of the slider
        :returns: None
        &#34;&#34;&#34;

        self.logger.debug(&#34;Threshold Slider Value: {}&#34;.format(value))

        if self.update_tool:
            self.controller.set_threshold(float(value))
        else:
            self.update_tool = True

    def update_thresh_slider_value(self, value):
        &#34;&#34;&#34;
        Update the value of the threshold slider

        :param value: The value to set it to
        :returns: None
        &#34;&#34;&#34;

        try:
            self.thresh_slider_var = value
            self.thresh_slider.set(value)
        except Exception:
            return

    def on_add_brush_sizer(self, a, b, c):
        &#34;&#34;&#34;
        Called when the add brush sizer is updated

        :returns: None
        &#34;&#34;&#34;

        if self.update_tool:
            val = self.add_brush_sizer_var.get()
            self.controller.set_add_region_brush(val)
        else:
            self.update_tool = True

    def update_add_brush_sizer(self, value):
        &#34;&#34;&#34;
        Update the value of the add brush sizer

        :param value: The Value to update to
        :returns: None
        &#34;&#34;&#34;

        try:
            self.add_brush_sizer_var.set(value)
        except Exception:
            pass

    def on_remove_brush_sizer(self, a, b, c):
        &#34;&#34;&#34;
        Called when the remove brush sizer is updated

        :returns: None
        &#34;&#34;&#34;

        if self.update_tool:
            val = self.remove_brush_sizer_var.get()
            self.controller.set_remove_region_brush(val)
        else:
            self.update_tool = True

    def update_remove_brush_sizer(self, value):
        &#34;&#34;&#34;
        Update the value of the remove brush sizer

        :param value: The Value to update to
        :returns: None
        &#34;&#34;&#34;

        try:
            self.remove_brush_sizer_var.set(value)
        except Exception:
            pass

    def on_flood_add_slider(self, value):
        &#34;&#34;&#34;
        Called when the flood_add slider is moved

        :param value: The value of the slider
        :returns: None
        &#34;&#34;&#34;

        if self.update_tool:
            self.controller.set_flood_add_tolerance(float(value))
        else:
            self.update_tool = True

    def update_flood_add_slider_value(self, value):
        &#34;&#34;&#34;
        Update the value of the flood_add slider

        :param value: The value to set it to
        :returns: None
        &#34;&#34;&#34;

        try:
            self.flood_add_slider_var = value
            self.flood_add_slider.set(value)
        except Exception:
            pass

    def on_flood_remove_slider(self, value):
        &#34;&#34;&#34;
        Called when the flood_remove slider is moved

        :param value: The value of the slider
        :returns: None
        &#34;&#34;&#34;

        if self.update_tool:
            self.controller.set_flood_remove_tolerance(float(value))
        else:
            self.update_tool = True

    def update_flood_remove_slider_value(self, value):
        &#34;&#34;&#34;
        Update the value of the flood_remove slider

        :param value: The value to set it to
        :returns: None
        &#34;&#34;&#34;

        try:
            self.flood_remove_slider_var = value
            self.flood_remove_slider.set(value)
        except Exception:
            pass

    def update_info_panel(self, tool_id):
        &#34;&#34;&#34;
        Change the information in the info panel to match the current tool

        :param tool_id: The id of the tool to change to
        :returns: None
        &#34;&#34;&#34;

        self.update_tool = False

        if self.thresh_slider:
            self.thresh_slider.destroy()
            self.thresh_slider = None

        if self.add_brush_sizer:
            self.brush_size_panel.destroy()
            self.add_brush_sizer.destroy()
            self.add_brush_sizer = None

        if self.remove_brush_sizer:
            self.brush_size_panel.destroy()
            self.remove_brush_sizer.destroy()
            self.remove_brush_sizer = None

        if self.flood_add_slider:
            self.flood_add_slider.destroy()
            self.flood_add_slider = None

        if self.flood_remove_slider:
            self.flood_remove_slider.destroy()
            self.flood_remove_slider = None

        if tool_id == self.ID_TOOL_THRESH:
            self.info_panel_label.config(text=&#34;Threshold Tool&#34;)

            self.thresh_slider_var = tk.DoubleVar()

            self.thresh_slider = tk.Scale(self.info_panel,
                                          from_=0.00,
                                          to=1.00,
                                          tickinterval=0.50,
                                          resolution=0.01,
                                          length=200,
                                          variable=self.thresh_slider_var,
                                          orient=&#39;horizontal&#39;,
                                          command=self.on_thresh_slider)

            self.thresh_slider.pack(side=TOP)

        elif tool_id == self.ID_TOOL_ADD:
            self.info_panel_label.config(text=&#34;Add Region Tool&#34;)

            self.brush_size_panel = tk.Frame(self.info_panel,
                                             padx=0, pady=15)

            self.brush_size_label = tk.Label(self.brush_size_panel,
                                             text=&#34;Brush Size&#34;)

            self.add_brush_sizer_var = tk.IntVar()
            self.add_brush_sizer_var.trace(&#39;w&#39;, self.on_add_brush_sizer)

            self.add_brush_sizer = tk.Spinbox(self.brush_size_panel,
                                              from_=0,
                                              to=64,
                                              width=17,
                                              textvariable=self.
                                              add_brush_sizer_var)

            self.brush_size_label.pack(side=LEFT)
            self.add_brush_sizer.pack(side=LEFT)

            self.brush_size_panel.pack(side=TOP)

        elif tool_id == self.ID_TOOL_REMOVE:
            self.info_panel_label.config(text=&#34;Remove Region Tool&#34;)

            self.brush_size_panel = tk.Frame(self.info_panel,
                                             padx=0, pady=15)

            self.brush_size_label = tk.Label(self.brush_size_panel,
                                             text=&#34;Brush Size&#34;)

            self.remove_brush_sizer_var = tk.IntVar()
            self.remove_brush_sizer_var.trace(&#39;w&#39;, self.on_remove_brush_sizer)

            self.remove_brush_sizer = tk.Spinbox(self.brush_size_panel,
                                                 from_=0,
                                                 to=64,
                                                 width=17,
                                                 textvariable=self.
                                                 remove_brush_sizer_var)

            self.brush_size_label.pack(side=LEFT)
            self.remove_brush_sizer.pack(side=LEFT)

            self.brush_size_panel.pack(side=TOP)

        elif tool_id == self.ID_TOOL_FLOOD_ADD:
            self.info_panel_label.config(text=&#34;Flood Add Tool&#34;)

            self.flood_add_slider_var = tk.DoubleVar()

            self.flood_add_slider = tk.Scale(self.info_panel,
                                             from_=0.00,
                                             to=1.00,
                                             tickinterval=0.50,
                                             resolution=0.01,
                                             length=200,
                                             variable=self.
                                             flood_add_slider_var,
                                             orient=&#39;horizontal&#39;,
                                             command=self.on_flood_add_slider)

            self.flood_add_slider.pack(side=TOP)

        elif tool_id == self.ID_TOOL_FLOOD_REMOVE:
            self.info_panel_label.config(text=&#34;Flood Remove Tool&#34;)

            self.flood_remove_slider_var = tk.DoubleVar()

            self.flood_remove_slider = tk.Scale(self.info_panel,
                                                from_=0.00,
                                                to=1.00,
                                                tickinterval=0.50,
                                                resolution=0.01,
                                                length=200,
                                                variable=self.
                                                flood_remove_slider_var,
                                                orient=&#39;horizontal&#39;,
                                                command=self.
                                                on_flood_remove_slider)

            self.flood_remove_slider.pack(side=TOP)

    def create_annotation_preview(self, img):

        AnnotationPreview(img, self.controller)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>tkinter.Frame</li>
<li>tkinter.Widget</li>
<li>tkinter.BaseWidget</li>
<li>tkinter.Misc</li>
<li>tkinter.Pack</li>
<li>tkinter.Place</li>
<li>tkinter.Grid</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.ID_ADJUST_TOOL"><code class="name">var <span class="ident">ID_ADJUST_TOOL</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_ADD"><code class="name">var <span class="ident">ID_TOOL_ADD</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_ADD_BRANCH"><code class="name">var <span class="ident">ID_TOOL_ADD_BRANCH</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_ADD_CROSS"><code class="name">var <span class="ident">ID_TOOL_ADD_CROSS</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_ADD_TIP"><code class="name">var <span class="ident">ID_TOOL_ADD_TIP</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_FLOOD_ADD"><code class="name">var <span class="ident">ID_TOOL_FLOOD_ADD</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_FLOOD_REMOVE"><code class="name">var <span class="ident">ID_TOOL_FLOOD_REMOVE</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_NEXT_IMAGE"><code class="name">var <span class="ident">ID_TOOL_NEXT_IMAGE</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_NO_ROOT"><code class="name">var <span class="ident">ID_TOOL_NO_ROOT</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_PREV_IMAGE"><code class="name">var <span class="ident">ID_TOOL_PREV_IMAGE</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_REDO"><code class="name">var <span class="ident">ID_TOOL_REDO</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_REMOVE"><code class="name">var <span class="ident">ID_TOOL_REMOVE</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_REMOVE_LANDMARK"><code class="name">var <span class="ident">ID_TOOL_REMOVE_LANDMARK</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_THRESH"><code class="name">var <span class="ident">ID_TOOL_THRESH</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_UNDO"><code class="name">var <span class="ident">ID_TOOL_UNDO</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_ZOOM"><code class="name">var <span class="ident">ID_TOOL_ZOOM</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.MAX_SCALE"><code class="name">var <span class="ident">MAX_SCALE</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.MIN_SCALE"><code class="name">var <span class="ident">MIN_SCALE</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.change_toolbar_state"><code class="name flex">
<span>def <span class="ident">change_toolbar_state</span></span>(<span>self, new_tool_id)</span>
</code></dt>
<dd>
<div class="desc"><p>Change the state of the buttons in the toolbar based on the button that
has been chosen</p>
<p>:param new_tool_id: The id of the tool that was chosen
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def change_toolbar_state(self, new_tool_id):
    &#34;&#34;&#34;
    Change the state of the buttons in the toolbar based on the button that
    has been chosen

    :param new_tool_id: The id of the tool that was chosen
    :returns: None
    &#34;&#34;&#34;
    for id, button in self.toolbar_buttons.items():
        if id == new_tool_id:
            if platform != &#34;darwin&#34;:
                button.config(relief=SUNKEN)
            button.config(bg=&#34;yellow&#34;)

        else:
            if platform != &#34;darwin&#34;:
                button.config(relief=RAISED)

            button.config(bg=self.orig_button_colour)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.create_annotation_preview"><code class="name flex">
<span>def <span class="ident">create_annotation_preview</span></span>(<span>self, img)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create_annotation_preview(self, img):

    AnnotationPreview(img, self.controller)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.create_canvas"><code class="name flex">
<span>def <span class="ident">create_canvas</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Set up a canvas for displaying images</p>
<p>:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create_canvas(self):
    &#34;&#34;&#34;
    Set up a canvas for displaying images

    :returns: None
    &#34;&#34;&#34;

    self.canvas = ResizingCanvas(self, cursor=&#39;none&#39;)
    self.canvas.bind(&#34;&lt;Enter&gt;&#34;, self.on_enter_canvas)
    self.canvas.bind(&#34;&lt;Leave&gt;&#34;, self.on_leave_canvas)
    self.canvas.bind(&#34;&lt;Motion&gt;&#34;, self.on_motion)
    self.canvas.pack(fill=BOTH, expand=YES)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.create_file_menu"><code class="name flex">
<span>def <span class="ident">create_file_menu</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Create the file menu bar</p>
<p>:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create_file_menu(self):
    &#34;&#34;&#34;
    Create the file menu bar

    :returns: None
    &#34;&#34;&#34;

    self.filemenu = tk.Menu(self.menubar, tearoff=0)

    self.filemenu.add_command(label=&#34;Load Image&#34;,
                              command=self.on_load_image)

    self.filemenu.add_command(label=&#34;Save Mask&#34;, command=self.on_save_mask)

    self.menubar.add_cascade(label=&#34;File&#34;, menu=self.filemenu)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.create_help_menu"><code class="name flex">
<span>def <span class="ident">create_help_menu</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Create the help menu bar</p>
<p>:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create_help_menu(self):
    &#34;&#34;&#34;
    Create the help menu bar

    :returns: None
    &#34;&#34;&#34;

    self.helpmenu = tk.Menu(self.menubar, tearoff=0)

    self.helpmenu.add_command(label=&#34;About&#34;,
                              command=self.on_about)

    self.helpmenu.add_command(label=&#34;Keyboard Shortcuts&#34;,
                              command=self.on_keyboard_shortcuts)

    self.menubar.add_cascade(label=&#34;Help&#34;, menu=self.helpmenu)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.create_info_panel"><code class="name flex">
<span>def <span class="ident">create_info_panel</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Create a panel for information about the current tool</p>
<p>:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create_info_panel(self):
    &#34;&#34;&#34;
    Create a panel for information about the current tool

    :returns: None
    &#34;&#34;&#34;

    self.info_panel = tk.Frame(self, borderwidth=5, relief=RIDGE,
                               padx=50,
                               pady=2)

    self.info_panel_label = tk.Label(self.info_panel,
                                     text=&#34;No Tool Selected&#34;)

    self.info_panel_label.pack()
    self.info_panel.pack(side=BOTTOM, fill=BOTH)

    self.thresh_slider = None
    self.add_brush_sizer = None
    self.remove_brush_sizer = None
    self.flood_add_slider = None
    self.flood_remove_slider = None</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.create_menubar"><code class="name flex">
<span>def <span class="ident">create_menubar</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Create the menu bar</p>
<p>:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create_menubar(self):
    &#34;&#34;&#34;
    Create the menu bar

    :returns: None
    &#34;&#34;&#34;

    self.menubar = tk.Menu(self.master)

    self.create_file_menu()

    self.create_help_menu()

    self.create_toolbar()

    self.master.config(menu=self.menubar)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.create_toolbar"><code class="name flex">
<span>def <span class="ident">create_toolbar</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Create the toolbar</p>
<p>:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create_toolbar(self):
    &#34;&#34;&#34;
    Create the toolbar

    :returns: None
    &#34;&#34;&#34;

    self.toolbar = tk.Frame(self.master, bd=1, relief=RAISED)
    self.toolbar_buttons = {}

    # Threshold Button
    thresh_data = Image.open(BytesIO(base64.b64decode(threshold_icon)))
    thresh_img = itk.PhotoImage(thresh_data)
    thresh_button = tk.Button(self.toolbar, image=thresh_img,
                              relief=FLAT, command=self.on_threshold_tool)
    thresh_button.image = thresh_img
    thresh_button.pack(side=LEFT, padx=2, pady=2)

    CreateToolTip(thresh_button, &#34;Threshold (t)&#34;)

    # Add Region Button
    add_region_data = Image.open(BytesIO(base64.
                                         b64decode(add_region_icon)))
    add_reg_img = itk.PhotoImage(add_region_data)

    add_reg_button = tk.Button(self.toolbar, image=add_reg_img,
                               relief=FLAT, command=self.on_add_reg_tool)
    add_reg_button.image = add_reg_img
    add_reg_button.pack(side=LEFT, padx=2, pady=2)

    CreateToolTip(add_reg_button, &#34;Add Region (a)&#34;)

    # Remove Region Button
    remove_region_data = Image.open(BytesIO(base64.
                                            b64decode(remove_region_icon)))
    remove_reg_img = itk.PhotoImage(remove_region_data)
    remove_reg_button = tk.Button(self.toolbar, image=remove_reg_img,
                                  relief=FLAT,
                                  command=self.on_remove_reg_tool)
    remove_reg_button.image = remove_reg_img
    remove_reg_button.pack(side=LEFT, padx=2, pady=2)

    CreateToolTip(remove_reg_button, &#34;Remove Region (r)&#34;)

    # Flood Add Button
    flood_add_data = Image.open(BytesIO(base64.b64decode(flood_add_icon)))
    flood_add_img = itk.PhotoImage(flood_add_data)
    flood_add_button = tk.Button(self.toolbar, image=flood_add_img,
                                 relief=FLAT,
                                 command=self.on_flood_add_tool)
    flood_add_button.image = flood_add_img
    flood_add_button.pack(side=LEFT, padx=2, pady=2)

    CreateToolTip(flood_add_button, &#34;Flood Add (f)&#34;)

    # Flood Remove Button
    flood_remove_data = Image.open(BytesIO(base64.
                                           b64decode(flood_remove_icon)))
    flood_remove_img = itk.PhotoImage(flood_remove_data)
    flood_remove_button = tk.Button(self.toolbar, image=flood_remove_img,
                                    relief=FLAT,
                                    command=self.on_flood_remove_tool)
    flood_remove_button.image = flood_remove_img
    flood_remove_button.pack(side=LEFT, padx=2, pady=2)

    CreateToolTip(flood_remove_button, &#34;Flood Remove (l)&#34;)

    # No Root Button
    no_root_data = Image.open(BytesIO(base64.b64decode(no_root_icon)))
    no_root_img = itk.PhotoImage(no_root_data)
    no_root_button = tk.Button(self.toolbar, image=no_root_img,
                               relief=FLAT,
                               command=self.on_no_root_tool)
    no_root_button.image = no_root_img
    no_root_button.pack(side=LEFT, padx=2, pady=2)

    CreateToolTip(no_root_button, &#34;No Root (x)&#34;)

    sep = tk.ttk.Separator(self.toolbar, orient=&#34;vertical&#34;)
    sep.pack(side=LEFT, padx=5, fill=BOTH)

    # Undo Button
    undo_data = Image.open(BytesIO(base64.b64decode(undo_icon)))
    undo_img = itk.PhotoImage(undo_data)
    undo_button = tk.Button(self.toolbar, image=undo_img,
                            relief=FLAT,
                            command=self.controller.undo)
    undo_button.image = undo_img
    undo_button.pack(side=LEFT, padx=2, pady=2)

    CreateToolTip(undo_button, &#34;Undo (CTRL+Z)&#34;)

    # Redo Button
    redo_data = Image.open(BytesIO(base64.b64decode(redo_icon)))
    redo_img = itk.PhotoImage(redo_data)
    redo_button = tk.Button(self.toolbar, image=redo_img,
                            relief=FLAT,
                            command=self.controller.redo)
    redo_button.image = redo_img
    redo_button.pack(side=LEFT, padx=2, pady=2)
    redo_button.config(state=&#34;disabled&#34;)

    CreateToolTip(redo_button, &#34;Redo (CTRL+R)&#34;)

    sep = tk.ttk.Separator(self.toolbar, orient=&#34;vertical&#34;)
    sep.pack(side=LEFT, padx=5, fill=BOTH)

    # Prev Button
    prev_data = Image.open(BytesIO(base64.b64decode(prev_patch_icon)))
    prev_img = itk.PhotoImage(prev_data)
    prev_button = tk.Button(self.toolbar, image=prev_img,
                            relief=FLAT,
                            command=self.on_prev_tool)
    prev_button.image = prev_img
    prev_button.pack(side=LEFT, padx=2, pady=2)

    CreateToolTip(prev_button, &#34;Previous Patch (&lt;Left Arrow&gt;)&#34;)

    # Next Button
    next_data = Image.open(BytesIO(base64.b64decode(next_patch_icon)))
    next_img = itk.PhotoImage(next_data)
    next_button = tk.Button(self.toolbar, image=next_img,
                            relief=FLAT,
                            command=self.on_next_tool)
    next_button.image = next_img
    next_button.pack(side=LEFT, padx=2, pady=2)

    CreateToolTip(next_button, &#34;Next Patch (&lt;Right Arrow&gt;)&#34;)

    # Add Tip Button
    # add_tip_data = Image.open(BytesIO(base64.b64decode(add_tip_icon)))
    # add_tip_img = itk.PhotoImage(add_tip_data)

    # add_tip_button = tk.Button(self.toolbar, image=add_tip_img,
    #                           relief=FLAT, command=self.on_add_tip_tool)
    # add_tip_button.image = add_tip_img
    # add_tip_button.pack(side=LEFT, padx=2, pady=2)

    # Add Cross Button
    # add_cross_data = Image.\
    #        open(BytesIO(base64.b64decode(add_cross_icon)))
    # add_cross_img = itk.PhotoImage(add_cross_data)

    # add_cross_button = tk.Button(self.toolbar, image=add_cross_img,
    #                              relief=FLAT,
    #                              command=self.on_add_cross_tool)
    # add_cross_button.image = add_cross_img
    # add_cross_button.pack(side=LEFT, padx=2, pady=2)

    # Add Branch Button
    # add_branch_data = Image.open(BytesIO(base64
    #                                      .b64decode(add_branch_icon)))
    # add_branch_img = itk.PhotoImage(add_branch_data)
    # add_branch_button = tk.Button(self.toolbar, image=add_branch_img,
    #                               relief=FLAT,
    #                               command=self.on_add_branch_tool)
    # add_branch_button.image = add_branch_img
    # add_branch_button.pack(side=LEFT, padx=2, pady=2)

    # Remove Landmark Button
    # remove_landmark_data = Image.open(BytesIO(base64.
    #                                           b64decode(remove_land_icon)))
    # remove_landmark_img = itk.PhotoImage(remove_landmark_data)

    # remove_landmark_button = tk.Button(self.toolbar,
    #                                    image=remove_landmark_img,
    #                                    relief=FLAT,
    #                                    command=self.
    #                                    on_remove_landmark_tool)

    # remove_landmark_button.image = remove_landmark_img
    # remove_landmark_button.pack(side=LEFT, padx=2, pady=2)

    self.orig_button_colour = remove_reg_button.cget(&#34;background&#34;)

    self.toolbar_buttons[self.ID_TOOL_THRESH] = thresh_button
    self.toolbar_buttons[self.ID_TOOL_ADD] = add_reg_button
    self.toolbar_buttons[self.ID_TOOL_REMOVE] = remove_reg_button
    self.toolbar_buttons[self.ID_TOOL_NO_ROOT] = no_root_button
    self.toolbar_buttons[self.ID_TOOL_PREV_IMAGE] = prev_button
    self.toolbar_buttons[self.ID_TOOL_NEXT_IMAGE] = next_button
    self.toolbar_buttons[self.ID_TOOL_FLOOD_ADD] = flood_add_button
    self.toolbar_buttons[self.ID_TOOL_FLOOD_REMOVE] = flood_remove_button
    # self.toolbar_buttons[self.ID_TOOL_ADD_TIP] = add_tip_button
    # self.toolbar_buttons[self.ID_TOOL_ADD_CROSS] = add_cross_button
    # self.toolbar_buttons[self.ID_TOOL_ADD_BRANCH] = add_branch_button
    # self.toolbar_buttons[self.ID_TOOL_REMOVE_LANDMARK] = \
    #    remove_landmark_button
    self.toolbar_buttons[self.ID_TOOL_UNDO] = undo_button
    self.toolbar_buttons[self.ID_TOOL_REDO] = redo_button

    self.image_indicator = tk.Label(self.toolbar, text=&#34;No Image Loaded&#34;)
    self.image_indicator.pack(side=RIGHT, padx=2, pady=2)

    self.toolbar.pack(side=TOP, fill=X)

    self.pack()</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.draw_brush"><code class="name flex">
<span>def <span class="ident">draw_brush</span></span>(<span>self, pos=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Draw the paintbrush curost</p>
<p>:param pos: The position to draw at
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def draw_brush(self, pos=None):
    &#34;&#34;&#34;
    Draw the paintbrush curost

    :param pos: The position to draw at
    :returns: None
    &#34;&#34;&#34;

    if self.brush_cursor is not None:
        self.canvas.delete(self.brush_cursor)

    if pos is None:
        pos = self.previous_position

    x_max = pos[0] + self.brush_radius
    x_min = pos[0] - self.brush_radius
    y_max = pos[1] + self.brush_radius
    y_min = pos[1] - self.brush_radius

    self.brush_cursor = self.canvas.create_oval(x_max, y_max, x_min, y_min,
                                                outline=&#39;white&#39;)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.handle_focus"><code class="name flex">
<span>def <span class="ident">handle_focus</span></span>(<span>self, event)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the window comes into focus</p>
<p>:param event: The event
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def handle_focus(self, event):
    &#34;&#34;&#34;
    Called when the window comes into focus

    :param event: The event
    :returns: None
    &#34;&#34;&#34;
    if self.flood_cursor:
        self.canvas.config(cursor=&#39;cross&#39;)
    else:
        self.canvas.config(cursor=&#39;none&#39;)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_about"><code class="name flex">
<span>def <span class="ident">on_about</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Display the about dialog</p>
<p>:param event: The event
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_about(self):
    &#34;&#34;&#34;
    Display the about dialog

    :param event: The event
    :returns: None
    &#34;&#34;&#34;
    AboutDialog()</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_add_brush_sizer"><code class="name flex">
<span>def <span class="ident">on_add_brush_sizer</span></span>(<span>self, a, b, c)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the add brush sizer is updated</p>
<p>:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_add_brush_sizer(self, a, b, c):
    &#34;&#34;&#34;
    Called when the add brush sizer is updated

    :returns: None
    &#34;&#34;&#34;

    if self.update_tool:
        val = self.add_brush_sizer_var.get()
        self.controller.set_add_region_brush(val)
    else:
        self.update_tool = True</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_add_reg_tool"><code class="name flex">
<span>def <span class="ident">on_add_reg_tool</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the add region brush tool is chosen</p>
<p>:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_add_reg_tool(self):
    &#34;&#34;&#34;
    Called when the add region brush tool is chosen

    :returns: None
    &#34;&#34;&#34;

    self.change_toolbar_state(self.ID_TOOL_ADD)
    self.update_info_panel(self.ID_TOOL_ADD)
    self.controller.change_mode(self.ID_TOOL_ADD)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_click"><code class="name flex">
<span>def <span class="ident">on_click</span></span>(<span>self, event)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the left mouse button is clicked</p>
<p>:param event: The mouse event
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_click(self, event):
    &#34;&#34;&#34;
    Called when the left mouse button is clicked

    :param event: The mouse event
    :returns: None
    &#34;&#34;&#34;
    self.previous_position = (event.x, event.y)

    self.logger.debug(&#34;Click location: {}, {}&#34;.format(event.x, event.y))</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_click_release"><code class="name flex">
<span>def <span class="ident">on_click_release</span></span>(<span>self, event)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the left mouse button is released</p>
<p>:param event: Mouse Event
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_click_release(self, event):
    &#34;&#34;&#34;
    Called when the left mouse button is released

    :param event: Mouse Event
    :returns: None
    &#34;&#34;&#34;
    self.on_enter_canvas(None)

    if self.can_draw and not self.dragged:
        self.controller.handle_left_click((event.x, event.y))

    self.dragged = False</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_control_release"><code class="name flex">
<span>def <span class="ident">on_control_release</span></span>(<span>self, event)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_control_release(self, event):

    self.control_down = False</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_drag"><code class="name flex">
<span>def <span class="ident">on_drag</span></span>(<span>self, event)</span>
</code></dt>
<dd>
<div class="desc"><p>called when the mouse is dragged while the left button is clicked</p>
<p>:param event: the mouse event
:returns: none</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_drag(self, event):
    &#34;&#34;&#34;
    called when the mouse is dragged while the left button is clicked

    :param event: the mouse event
    :returns: none
    &#34;&#34;&#34;
    state = event.state
    self.dragged = True
    # ctrl = (state &amp; 0x4) != 0

    # if not ctrl:
    #    self.controller.handle_motion((event.x, event.y))
    # else:
    self.canvas.config(cursor=&#34;hand2&#34;)
    self.controller.handle_mouse_wheel_motion((event.x, event.y))

    self.previous_position = (event.x, event.y)
    self.on_motion(event)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_enter_canvas"><code class="name flex">
<span>def <span class="ident">on_enter_canvas</span></span>(<span>self, event)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the cursor enters the canvas</p>
<p>:param event: The event
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_enter_canvas(self, event):
    &#34;&#34;&#34;
    Called when the cursor enters the canvas

    :param event: The event
    :returns: None
    &#34;&#34;&#34;
    self.can_draw = True
    if self.flood_cursor:
        self.canvas.config(cursor=&#39;cross&#39;)

    else:
        self.canvas.config(cursor=&#39;none&#39;)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_flood_add_slider"><code class="name flex">
<span>def <span class="ident">on_flood_add_slider</span></span>(<span>self, value)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the flood_add slider is moved</p>
<p>:param value: The value of the slider
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_flood_add_slider(self, value):
    &#34;&#34;&#34;
    Called when the flood_add slider is moved

    :param value: The value of the slider
    :returns: None
    &#34;&#34;&#34;

    if self.update_tool:
        self.controller.set_flood_add_tolerance(float(value))
    else:
        self.update_tool = True</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_flood_add_tool"><code class="name flex">
<span>def <span class="ident">on_flood_add_tool</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the flood add tool is chosen</p>
<p>:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_flood_add_tool(self):
    &#34;&#34;&#34;
    Called when the flood add tool is chosen

    :returns: None
    &#34;&#34;&#34;
    self.change_toolbar_state(self.ID_TOOL_FLOOD_ADD)
    self.update_info_panel(self.ID_TOOL_FLOOD_ADD)
    self.controller.change_mode(self.ID_TOOL_FLOOD_ADD)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_flood_remove_slider"><code class="name flex">
<span>def <span class="ident">on_flood_remove_slider</span></span>(<span>self, value)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the flood_remove slider is moved</p>
<p>:param value: The value of the slider
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_flood_remove_slider(self, value):
    &#34;&#34;&#34;
    Called when the flood_remove slider is moved

    :param value: The value of the slider
    :returns: None
    &#34;&#34;&#34;

    if self.update_tool:
        self.controller.set_flood_remove_tolerance(float(value))
    else:
        self.update_tool = True</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_flood_remove_tool"><code class="name flex">
<span>def <span class="ident">on_flood_remove_tool</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the flood remove tool is chosen</p>
<p>:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_flood_remove_tool(self):
    &#34;&#34;&#34;
    Called when the flood remove tool is chosen

    :returns: None
    &#34;&#34;&#34;
    self.change_toolbar_state(self.ID_TOOL_FLOOD_REMOVE)
    self.update_info_panel(self.ID_TOOL_FLOOD_REMOVE)
    self.controller.change_mode(self.ID_TOOL_FLOOD_REMOVE)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_key_decrease_tool"><code class="name flex">
<span>def <span class="ident">on_key_decrease_tool</span></span>(<span>self, event)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_key_decrease_tool(self, event):
    self.controller.change_secondary_mode(self.ID_ADJUST_TOOL)
    self.controller.handle_mouse_wheel(-1, 0, 0)
    self.controller.change_secondary_mode(self.ID_TOOL_ZOOM)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_key_increase_tool"><code class="name flex">
<span>def <span class="ident">on_key_increase_tool</span></span>(<span>self, event)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_key_increase_tool(self, event):
    self.controller.change_secondary_mode(self.ID_ADJUST_TOOL)
    self.controller.handle_mouse_wheel(1, 0, 0)
    self.controller.change_secondary_mode(self.ID_TOOL_ZOOM)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_keyboard_shortcuts"><code class="name flex">
<span>def <span class="ident">on_keyboard_shortcuts</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Display the keyboard shortcut dialog</p>
<p>:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_keyboard_shortcuts(self):
    &#34;&#34;&#34;
    Display the keyboard shortcut dialog

    :returns: None
    &#34;&#34;&#34;
    KeyboardShortcutDialog()</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_keypress"><code class="name flex">
<span>def <span class="ident">on_keypress</span></span>(<span>self, event)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when a key on the keyboard is pressed</p>
<p>:param event: The event
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_keypress(self, event):
    &#34;&#34;&#34;
    Called when a key on the keyboard is pressed

    :param event: The event
    :returns: None
    &#34;&#34;&#34;

    key = event.char
    s = event.state
    ctrl = (s &amp; 0x4) != 0
    alt = (s &amp; 0x8) != 0 or (s &amp; 0x80) != 0
    shift = (s &amp; 0x1) != 0

    if shift:
        key = &#39;shift+&#39; + key

    if alt:
        key = &#39;alt+&#39; + key

    if ctrl:
        self.control_down = True
        key = &#39;ctrl+&#39; + key


    if self.control_down:
        key = event.keysym

        if key == &#39;z&#39;:
            self.controller.undo()
        elif key == &#39;r&#39;:
            self.controller.redo()
        elif key == &#39;equal&#39; or key == &#34;plus&#34;:
            self.on_key_increase_tool(None)

        elif key == &#39;minus&#39;:
            self.on_key_decrease_tool(None)

    else:
        if key == &#39;x&#39;:
            self.on_no_root_tool()

        elif key == &#34;t&#34;:
            self.on_threshold_tool()

        elif key == &#34;a&#34;:
            self.on_add_reg_tool()

        elif key == &#34;r&#34;:
            self.on_remove_reg_tool()

        elif key == &#34;f&#34;:
            self.on_flood_add_tool()

        elif key == &#34;l&#34;:
            self.on_flood_remove_tool()

        elif key == &#39;=&#39; or key ==&#34;+&#34;:
            x = self.previous_position[0]
            y = self.previous_position[1]

            self.controller.handle_zoom(1, x, y)

        elif key == &#39;-&#39;:
            x = self.previous_position[0]
            y = self.previous_position[1]

            self.controller.handle_zoom(-1, x, y)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_leave_canvas"><code class="name flex">
<span>def <span class="ident">on_leave_canvas</span></span>(<span>self, event)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the mouse cursor leaves the canvas</p>
<p>:param event: The event
:returns: none</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_leave_canvas(self, event):
    &#34;&#34;&#34;
    Called when the mouse cursor leaves the canvas

    :param event: The event
    :returns: none
    &#34;&#34;&#34;
    # Toto, I don&#39;t think we&#39;re in canvas anymore...
    self.can_draw = False</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_left"><code class="name flex">
<span>def <span class="ident">on_left</span></span>(<span>self, event)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the left arrow key is pressed</p>
<p>:param event: The event
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_left(self, event):
    &#34;&#34;&#34;
    Called when the left arrow key is pressed

    :param event: The event
    :returns: None
    &#34;&#34;&#34;

    self.on_prev_tool()</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_load_image"><code class="name flex">
<span>def <span class="ident">on_load_image</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the load image button is chosen</p>
<p>:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_load_image(self):
    &#34;&#34;&#34;
    Called when the load image button is chosen

    :returns: None
    &#34;&#34;&#34;

    self.controller.load_new_image()
    self.old_img = None

    image_name = self.controller.image.path

    self.image_indicator.config(text=&#34;Annotating &#34; + image_name)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_motion"><code class="name flex">
<span>def <span class="ident">on_motion</span></span>(<span>self, event)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the mouse is moved on the canvas</p>
<p>:param event: The event
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_motion(self, event):
    &#34;&#34;&#34;
    Called when the mouse is moved on the canvas

    :param event: The event
    :returns: None
    &#34;&#34;&#34;

    pos = event.x, event.y

    if not self.zoom_cursor and not self.flood_cursor:
        self.draw_brush(pos)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_mousewheel"><code class="name flex">
<span>def <span class="ident">on_mousewheel</span></span>(<span>self, event)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the mouse wheel is scrolled</p>
<p>:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_mousewheel(self, event):
    &#34;&#34;&#34;
    Called when the mouse wheel is scrolled

    :returns: None
    &#34;&#34;&#34;
    self.logger.debug(&#34;Mouse Wheel {} {}&#34;.format(event.delta, event.num))

    # Linux events are weird
    if event.num == 4:
        rotation = 120
    elif event.num == 5:
        rotation = -120

    # Capture windows and mac events
    if event.delta != 0:
        rotation = event.delta

    self.previous_position = event.x, event.y
    s = event.state

    #alt = (s &amp; 0x8) != 0 or (s &amp; 0x80) != 0
    ctrl = (s &amp; 0x4) != 0

    if ctrl:
        self.controller.change_secondary_mode(self.ID_ADJUST_TOOL)

    self.controller.handle_mouse_wheel(rotation, event.x, event.y)
    self.controller.change_secondary_mode(self.ID_TOOL_ZOOM)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_next_tool"><code class="name flex">
<span>def <span class="ident">on_next_tool</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the next patch button is chosen</p>
<p>:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_next_tool(self):
    &#34;&#34;&#34;
    Called when the next patch button is chosen

    :returns: None
    &#34;&#34;&#34;
    self.controller.next_patch()</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_no_root_tool"><code class="name flex">
<span>def <span class="ident">on_no_root_tool</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the no root tool is chosen</p>
<p>:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_no_root_tool(self):
    &#34;&#34;&#34;
    Called when the no root tool is chosen

    :returns: None
    &#34;&#34;&#34;
    self.controller.change_mode(self.ID_TOOL_NO_ROOT)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_prev_tool"><code class="name flex">
<span>def <span class="ident">on_prev_tool</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the previous patch button is chosen</p>
<p>:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_prev_tool(self):
    &#34;&#34;&#34;
    Called when the previous patch button is chosen

    :returns: None
    &#34;&#34;&#34;
    self.controller.prev_patch()</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_remove_brush_sizer"><code class="name flex">
<span>def <span class="ident">on_remove_brush_sizer</span></span>(<span>self, a, b, c)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the remove brush sizer is updated</p>
<p>:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_remove_brush_sizer(self, a, b, c):
    &#34;&#34;&#34;
    Called when the remove brush sizer is updated

    :returns: None
    &#34;&#34;&#34;

    if self.update_tool:
        val = self.remove_brush_sizer_var.get()
        self.controller.set_remove_region_brush(val)
    else:
        self.update_tool = True</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_remove_reg_tool"><code class="name flex">
<span>def <span class="ident">on_remove_reg_tool</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the remove region brush tool is chosen</p>
<p>:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_remove_reg_tool(self):
    &#34;&#34;&#34;
    Called when the remove region brush tool is chosen

    :returns: None
    &#34;&#34;&#34;
    self.change_toolbar_state(self.ID_TOOL_REMOVE)
    self.update_info_panel(self.ID_TOOL_REMOVE)
    self.controller.change_mode(self.ID_TOOL_REMOVE)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_right"><code class="name flex">
<span>def <span class="ident">on_right</span></span>(<span>self, event)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the right arrow key is pressed</p>
<p>:param event: Ethe event
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_right(self, event):
    &#34;&#34;&#34;
    Called when the right arrow key is pressed

    :param event: Ethe event
    :returns: None
    &#34;&#34;&#34;

    self.on_next_tool()</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_right_click"><code class="name flex">
<span>def <span class="ident">on_right_click</span></span>(<span>self, event)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the right mouse button is clicked</p>
<p>:param event: The mouse event
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_right_click(self, event):
    &#34;&#34;&#34;
    Called when the right mouse button is clicked

    :param event: The mouse event
    :returns: None
    &#34;&#34;&#34;
    self.logger.debug(&#34;Right Click&#34;)
    if self.can_draw:
        self.controller.handle_right_click()</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_save_mask"><code class="name flex">
<span>def <span class="ident">on_save_mask</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the save mask button is chosem</p>
<p>:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_save_mask(self):
    &#34;&#34;&#34;
    Called when the save mask button is chosem

    :returns: None
    &#34;&#34;&#34;
    self.controller.save_mask()</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_thresh_slider"><code class="name flex">
<span>def <span class="ident">on_thresh_slider</span></span>(<span>self, value)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the threshold slider is moved</p>
<p>:param value: The value of the slider
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_thresh_slider(self, value):
    &#34;&#34;&#34;
    Called when the threshold slider is moved

    :param value: The value of the slider
    :returns: None
    &#34;&#34;&#34;

    self.logger.debug(&#34;Threshold Slider Value: {}&#34;.format(value))

    if self.update_tool:
        self.controller.set_threshold(float(value))
    else:
        self.update_tool = True</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_threshold_tool"><code class="name flex">
<span>def <span class="ident">on_threshold_tool</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the threshold tool is chosen</p>
<p>:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_threshold_tool(self):
    &#34;&#34;&#34;
    Called when the threshold tool is chosen

    :returns: None
    &#34;&#34;&#34;

    self.change_toolbar_state(self.ID_TOOL_THRESH)
    self.logger.debug(&#34;Threshold tool chosen&#34;)
    self.update_info_panel(self.ID_TOOL_THRESH)
    self.controller.change_mode(self.ID_TOOL_THRESH)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_wheel_click"><code class="name flex">
<span>def <span class="ident">on_wheel_click</span></span>(<span>self, event)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the mouse wheel is clicekd</p>
<p>:param event: The Mouse event
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_wheel_click(self, event):
    &#34;&#34;&#34;
    Called when the mouse wheel is clicekd

    :param event: The Mouse event
    :returns: None
    &#34;&#34;&#34;
    self.canvas.config(cursor=&#34;hand2&#34;)
    self.previous_position = (event.x, event.y)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_wheel_motion"><code class="name flex">
<span>def <span class="ident">on_wheel_motion</span></span>(<span>self, event)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the mouuse is dragged with the mouswheel pressed</p>
<p>:param event: The mouse event
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_wheel_motion(self, event):
    &#34;&#34;&#34;
    Called when the mouuse is dragged with the mouswheel pressed

    :param event: The mouse event
    :returns: None
    &#34;&#34;&#34;

    self.controller.handle_mouse_wheel_motion((event.x, event.y))
    self.previous_position = (event.x, event.y)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.on_wheel_release"><code class="name flex">
<span>def <span class="ident">on_wheel_release</span></span>(<span>self, event)</span>
</code></dt>
<dd>
<div class="desc"><p>Called when the mouse wheel is released</p>
<p>:param event: THe mouse event
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_wheel_release(self, event):
    &#34;&#34;&#34;
    Called when the mouse wheel is released

    :param event: THe mouse event
    :returns: None
    &#34;&#34;&#34;
    self.on_enter_canvas(event)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.set_brush_radius"><code class="name flex">
<span>def <span class="ident">set_brush_radius</span></span>(<span>self, radius)</span>
</code></dt>
<dd>
<div class="desc"><p>Set the radius of the brush cursor representing the current brush</p>
<p>:param radius: The radius to draw the brush
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_brush_radius(self, radius):
    &#34;&#34;&#34;
    Set the radius of the brush cursor representing the current brush

    :param radius: The radius to draw the brush
    :returns: None
    &#34;&#34;&#34;

    self.brush_radius = radius</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.set_up_interactions"><code class="name flex">
<span>def <span class="ident">set_up_interactions</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Set up user interactions with keyboard and mouse</p>
<p>:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_up_interactions(self):
    &#34;&#34;&#34;
    Set up user interactions with keyboard and mouse

    :returns: None
    &#34;&#34;&#34;

    # Apparently bindings are different fro different OSes
    if platform == &#34;linux&#34; or platform == &#34;linux2&#34;:
        self.bind_all(&#34;&lt;Button-4&gt;&#34;, self.on_mousewheel)
        self.bind_all(&#34;&lt;Button-5&gt;&#34;, self.on_mousewheel)
    # Mac
    elif platform == &#34;darwin&#34;:
        self.bind_all(&#34;&lt;MouseWheel&gt;&#34;, self.on_mousewheel)

    elif platform == &#34;win32&#34;:
        self.bind_all(&#34;&lt;MouseWheel&gt;&#34;, self.on_mousewheel)

    self.canvas.bind(&#34;&lt;B1-Motion&gt;&#34;, self.on_drag)

    self.canvas.bind(&#34;&lt;Button-1&gt;&#34;, self.on_click)
    self.bind_all(&#34;&lt;ButtonRelease-1&gt;&#34;, self.on_click_release)

    self.bind_all(&#34;&lt;B2-Motion&gt;&#34;, self.on_wheel_motion)
    self.bind_all(&#34;&lt;Button-2&gt;&#34;, self.on_wheel_click)
    self.bind_all(&#34;&lt;ButtonRelease-2&gt;&#34;, self.on_wheel_release)

    self.bind_all(&#34;&lt;Button-3&gt;&#34;, self.on_right_click)

    self.bind_all(&#34;&lt;KeyPress&gt;&#34;, self.on_keypress)
    self.bind_all(&#34;&lt;Left&gt;&#34;, self.on_left)
    self.bind_all(&#34;&lt;Right&gt;&#34;, self.on_right)
    self.bind_all(&#34;&lt;KeyRelease-Control_L&gt;&#34;, self.on_control_release)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.show_image"><code class="name flex">
<span>def <span class="ident">show_image</span></span>(<span>self, img)</span>
</code></dt>
<dd>
<div class="desc"><p>Display the given image in the main window</p>
<p>:param img: The image to display
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def show_image(self, img):
    &#34;&#34;&#34;
    Display the given image in the main window

    :param img: The image to display
    :returns: None
    &#34;&#34;&#34;

    if self.image_id:
        self.canvas.delete(self.image_id)

    self.current_image = img

    image = Image.fromarray(img)

    self.display_img = itk.PhotoImage(image=image,
                                      master=self.master)
    iw, ih = image.size

    size = int(iw * self.image_scale), int(ih * self.image_scale)

    self.logger.debug(&#34;Image Size: {}, Canvas Size: {}&#34;.format(size,
                      (self.canvas.winfo_width(),
                       self.canvas.winfo_height())))

    canvas_w = self.canvas.winfo_width()
    canvas_h = self.canvas.winfo_height()

    image = image.resize(size)

    x, y = self.image_x, self.image_y

    if size[0] &gt; canvas_w and size[1] &gt; canvas_h:
        left = -self.image_x
        right = canvas_w - self.image_x
        upper = -self.image_y
        lower = canvas_h - self.image_y

        image = image.crop([left, upper, right, lower])

        x, y = 0, 0

    self.display_img = itk.PhotoImage(image=image)

    self.image_id = self.canvas.create_image(x, y, anchor=&#34;nw&#34;,
                                             image=self.display_img)
    self.canvas.scale(ALL, x, y, self.image_scale, self.image_scale)

    self.canvas.pack()
    self.logger.debug(&#34;Image displayed&#34;)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.start_progressbar"><code class="name flex">
<span>def <span class="ident">start_progressbar</span></span>(<span>self, num_patches)</span>
</code></dt>
<dd>
<div class="desc"><p>Start displaying a progressbar</p>
<p>:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def start_progressbar(self, num_patches):
    &#34;&#34;&#34;
    Start displaying a progressbar

    :returns: None
    &#34;&#34;&#34;
    self.prog_popup = tk.Toplevel()

    self.prog_popup.geometry(&#34;100x50+500+400&#34;)

    tk.Label(self.prog_popup, text=&#34;Image Loading&#34;).grid(row=0, column=0)

    self.load_progress = 0
    self.load_prog_var = tk.DoubleVar()
    self.load_prog_bar = ttk.Progressbar(self.prog_popup,
                                         variable=self.load_prog_var,
                                         maximum=100)
    self.load_prog_bar.grid(row=1, column=0)

    self.progress_step = float(100.0/num_patches)
    self.prog_popup.pack_slaves()</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.update_add_brush_sizer"><code class="name flex">
<span>def <span class="ident">update_add_brush_sizer</span></span>(<span>self, value)</span>
</code></dt>
<dd>
<div class="desc"><p>Update the value of the add brush sizer</p>
<p>:param value: The Value to update to
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_add_brush_sizer(self, value):
    &#34;&#34;&#34;
    Update the value of the add brush sizer

    :param value: The Value to update to
    :returns: None
    &#34;&#34;&#34;

    try:
        self.add_brush_sizer_var.set(value)
    except Exception:
        pass</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.update_flood_add_slider_value"><code class="name flex">
<span>def <span class="ident">update_flood_add_slider_value</span></span>(<span>self, value)</span>
</code></dt>
<dd>
<div class="desc"><p>Update the value of the flood_add slider</p>
<p>:param value: The value to set it to
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_flood_add_slider_value(self, value):
    &#34;&#34;&#34;
    Update the value of the flood_add slider

    :param value: The value to set it to
    :returns: None
    &#34;&#34;&#34;

    try:
        self.flood_add_slider_var = value
        self.flood_add_slider.set(value)
    except Exception:
        pass</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.update_flood_remove_slider_value"><code class="name flex">
<span>def <span class="ident">update_flood_remove_slider_value</span></span>(<span>self, value)</span>
</code></dt>
<dd>
<div class="desc"><p>Update the value of the flood_remove slider</p>
<p>:param value: The value to set it to
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_flood_remove_slider_value(self, value):
    &#34;&#34;&#34;
    Update the value of the flood_remove slider

    :param value: The value to set it to
    :returns: None
    &#34;&#34;&#34;

    try:
        self.flood_remove_slider_var = value
        self.flood_remove_slider.set(value)
    except Exception:
        pass</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.update_info_panel"><code class="name flex">
<span>def <span class="ident">update_info_panel</span></span>(<span>self, tool_id)</span>
</code></dt>
<dd>
<div class="desc"><p>Change the information in the info panel to match the current tool</p>
<p>:param tool_id: The id of the tool to change to
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_info_panel(self, tool_id):
    &#34;&#34;&#34;
    Change the information in the info panel to match the current tool

    :param tool_id: The id of the tool to change to
    :returns: None
    &#34;&#34;&#34;

    self.update_tool = False

    if self.thresh_slider:
        self.thresh_slider.destroy()
        self.thresh_slider = None

    if self.add_brush_sizer:
        self.brush_size_panel.destroy()
        self.add_brush_sizer.destroy()
        self.add_brush_sizer = None

    if self.remove_brush_sizer:
        self.brush_size_panel.destroy()
        self.remove_brush_sizer.destroy()
        self.remove_brush_sizer = None

    if self.flood_add_slider:
        self.flood_add_slider.destroy()
        self.flood_add_slider = None

    if self.flood_remove_slider:
        self.flood_remove_slider.destroy()
        self.flood_remove_slider = None

    if tool_id == self.ID_TOOL_THRESH:
        self.info_panel_label.config(text=&#34;Threshold Tool&#34;)

        self.thresh_slider_var = tk.DoubleVar()

        self.thresh_slider = tk.Scale(self.info_panel,
                                      from_=0.00,
                                      to=1.00,
                                      tickinterval=0.50,
                                      resolution=0.01,
                                      length=200,
                                      variable=self.thresh_slider_var,
                                      orient=&#39;horizontal&#39;,
                                      command=self.on_thresh_slider)

        self.thresh_slider.pack(side=TOP)

    elif tool_id == self.ID_TOOL_ADD:
        self.info_panel_label.config(text=&#34;Add Region Tool&#34;)

        self.brush_size_panel = tk.Frame(self.info_panel,
                                         padx=0, pady=15)

        self.brush_size_label = tk.Label(self.brush_size_panel,
                                         text=&#34;Brush Size&#34;)

        self.add_brush_sizer_var = tk.IntVar()
        self.add_brush_sizer_var.trace(&#39;w&#39;, self.on_add_brush_sizer)

        self.add_brush_sizer = tk.Spinbox(self.brush_size_panel,
                                          from_=0,
                                          to=64,
                                          width=17,
                                          textvariable=self.
                                          add_brush_sizer_var)

        self.brush_size_label.pack(side=LEFT)
        self.add_brush_sizer.pack(side=LEFT)

        self.brush_size_panel.pack(side=TOP)

    elif tool_id == self.ID_TOOL_REMOVE:
        self.info_panel_label.config(text=&#34;Remove Region Tool&#34;)

        self.brush_size_panel = tk.Frame(self.info_panel,
                                         padx=0, pady=15)

        self.brush_size_label = tk.Label(self.brush_size_panel,
                                         text=&#34;Brush Size&#34;)

        self.remove_brush_sizer_var = tk.IntVar()
        self.remove_brush_sizer_var.trace(&#39;w&#39;, self.on_remove_brush_sizer)

        self.remove_brush_sizer = tk.Spinbox(self.brush_size_panel,
                                             from_=0,
                                             to=64,
                                             width=17,
                                             textvariable=self.
                                             remove_brush_sizer_var)

        self.brush_size_label.pack(side=LEFT)
        self.remove_brush_sizer.pack(side=LEFT)

        self.brush_size_panel.pack(side=TOP)

    elif tool_id == self.ID_TOOL_FLOOD_ADD:
        self.info_panel_label.config(text=&#34;Flood Add Tool&#34;)

        self.flood_add_slider_var = tk.DoubleVar()

        self.flood_add_slider = tk.Scale(self.info_panel,
                                         from_=0.00,
                                         to=1.00,
                                         tickinterval=0.50,
                                         resolution=0.01,
                                         length=200,
                                         variable=self.
                                         flood_add_slider_var,
                                         orient=&#39;horizontal&#39;,
                                         command=self.on_flood_add_slider)

        self.flood_add_slider.pack(side=TOP)

    elif tool_id == self.ID_TOOL_FLOOD_REMOVE:
        self.info_panel_label.config(text=&#34;Flood Remove Tool&#34;)

        self.flood_remove_slider_var = tk.DoubleVar()

        self.flood_remove_slider = tk.Scale(self.info_panel,
                                            from_=0.00,
                                            to=1.00,
                                            tickinterval=0.50,
                                            resolution=0.01,
                                            length=200,
                                            variable=self.
                                            flood_remove_slider_var,
                                            orient=&#39;horizontal&#39;,
                                            command=self.
                                            on_flood_remove_slider)

        self.flood_remove_slider.pack(side=TOP)</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.update_remove_brush_sizer"><code class="name flex">
<span>def <span class="ident">update_remove_brush_sizer</span></span>(<span>self, value)</span>
</code></dt>
<dd>
<div class="desc"><p>Update the value of the remove brush sizer</p>
<p>:param value: The Value to update to
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_remove_brush_sizer(self, value):
    &#34;&#34;&#34;
    Update the value of the remove brush sizer

    :param value: The Value to update to
    :returns: None
    &#34;&#34;&#34;

    try:
        self.remove_brush_sizer_var.set(value)
    except Exception:
        pass</code></pre>
</details>
</dd>
<dt id="friendly_ground_truth.view.tk_view.MainWindow.update_thresh_slider_value"><code class="name flex">
<span>def <span class="ident">update_thresh_slider_value</span></span>(<span>self, value)</span>
</code></dt>
<dd>
<div class="desc"><p>Update the value of the threshold slider</p>
<p>:param value: The value to set it to
:returns: None</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_thresh_slider_value(self, value):
    &#34;&#34;&#34;
    Update the value of the threshold slider

    :param value: The value to set it to
    :returns: None
    &#34;&#34;&#34;

    try:
        self.thresh_slider_var = value
        self.thresh_slider.set(value)
    except Exception:
        return</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="friendly_ground_truth.view.tk_view.ResizingCanvas"><code class="flex name class">
<span>class <span class="ident">ResizingCanvas</span></span>
<span>(</span><span>parent, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Canvas widget to display graphical elements like lines or text.</p>
<p>Construct a canvas widget with the parent MASTER.</p>
<p>Valid resource names: background, bd, bg, borderwidth, closeenough,
confine, cursor, height, highlightbackground, highlightcolor,
highlightthickness, insertbackground, insertborderwidth,
insertofftime, insertontime, insertwidth, offset, relief,
scrollregion, selectbackground, selectborderwidth, selectforeground,
state, takefocus, width, xscrollcommand, xscrollincrement,
yscrollcommand, yscrollincrement.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ResizingCanvas(tk.Canvas):

    def __init__(self, parent, **kwargs):
        tk.Canvas.__init__(self, parent, **kwargs)

        self.bind(&#34;&lt;Configure&gt;&#34;, self.on_resize)
        self.height = self.winfo_reqheight()
        self.width = self.winfo_reqwidth()

    def on_resize(self, event):

        wscale = float(event.width)/self.width
        hscale = float(event.height)/self.height

        self.width = event.width
        self.height = event.height

        self.config(width=self.width, height=self.height)
        self.scale(&#34;all&#34;, 0, 0, wscale, hscale)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>tkinter.Canvas</li>
<li>tkinter.Widget</li>
<li>tkinter.BaseWidget</li>
<li>tkinter.Misc</li>
<li>tkinter.Pack</li>
<li>tkinter.Place</li>
<li>tkinter.Grid</li>
<li>tkinter.XView</li>
<li>tkinter.YView</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="friendly_ground_truth.view.tk_view.ResizingCanvas.on_resize"><code class="name flex">
<span>def <span class="ident">on_resize</span></span>(<span>self, event)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_resize(self, event):

    wscale = float(event.width)/self.width
    hscale = float(event.height)/self.height

    self.width = event.width
    self.height = event.height

    self.config(width=self.width, height=self.height)
    self.scale(&#34;all&#34;, 0, 0, wscale, hscale)</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="friendly_ground_truth.view" href="index.html">friendly_ground_truth.view</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="friendly_ground_truth.view.tk_view.AboutDialog" href="#friendly_ground_truth.view.tk_view.AboutDialog">AboutDialog</a></code></h4>
<ul class="">
<li><code><a title="friendly_ground_truth.view.tk_view.AboutDialog.on_bug_click" href="#friendly_ground_truth.view.tk_view.AboutDialog.on_bug_click">on_bug_click</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.AboutDialog.on_manual_click" href="#friendly_ground_truth.view.tk_view.AboutDialog.on_manual_click">on_manual_click</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.AboutDialog.on_version_click" href="#friendly_ground_truth.view.tk_view.AboutDialog.on_version_click">on_version_click</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="friendly_ground_truth.view.tk_view.AnnotationPreview" href="#friendly_ground_truth.view.tk_view.AnnotationPreview">AnnotationPreview</a></code></h4>
<ul class="">
<li><code><a title="friendly_ground_truth.view.tk_view.AnnotationPreview.on_cancel" href="#friendly_ground_truth.view.tk_view.AnnotationPreview.on_cancel">on_cancel</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.AnnotationPreview.on_save" href="#friendly_ground_truth.view.tk_view.AnnotationPreview.on_save">on_save</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.AnnotationPreview.show_image" href="#friendly_ground_truth.view.tk_view.AnnotationPreview.show_image">show_image</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="friendly_ground_truth.view.tk_view.CreateToolTip" href="#friendly_ground_truth.view.tk_view.CreateToolTip">CreateToolTip</a></code></h4>
<ul class="two-column">
<li><code><a title="friendly_ground_truth.view.tk_view.CreateToolTip.enter" href="#friendly_ground_truth.view.tk_view.CreateToolTip.enter">enter</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.CreateToolTip.hidetip" href="#friendly_ground_truth.view.tk_view.CreateToolTip.hidetip">hidetip</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.CreateToolTip.leave" href="#friendly_ground_truth.view.tk_view.CreateToolTip.leave">leave</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.CreateToolTip.schedule" href="#friendly_ground_truth.view.tk_view.CreateToolTip.schedule">schedule</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.CreateToolTip.showtip" href="#friendly_ground_truth.view.tk_view.CreateToolTip.showtip">showtip</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.CreateToolTip.unschedule" href="#friendly_ground_truth.view.tk_view.CreateToolTip.unschedule">unschedule</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="friendly_ground_truth.view.tk_view.KeyboardShortcutDialog" href="#friendly_ground_truth.view.tk_view.KeyboardShortcutDialog">KeyboardShortcutDialog</a></code></h4>
</li>
<li>
<h4><code><a title="friendly_ground_truth.view.tk_view.MainWindow" href="#friendly_ground_truth.view.tk_view.MainWindow">MainWindow</a></code></h4>
<ul class="">
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.ID_ADJUST_TOOL" href="#friendly_ground_truth.view.tk_view.MainWindow.ID_ADJUST_TOOL">ID_ADJUST_TOOL</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_ADD" href="#friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_ADD">ID_TOOL_ADD</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_ADD_BRANCH" href="#friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_ADD_BRANCH">ID_TOOL_ADD_BRANCH</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_ADD_CROSS" href="#friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_ADD_CROSS">ID_TOOL_ADD_CROSS</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_ADD_TIP" href="#friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_ADD_TIP">ID_TOOL_ADD_TIP</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_FLOOD_ADD" href="#friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_FLOOD_ADD">ID_TOOL_FLOOD_ADD</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_FLOOD_REMOVE" href="#friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_FLOOD_REMOVE">ID_TOOL_FLOOD_REMOVE</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_NEXT_IMAGE" href="#friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_NEXT_IMAGE">ID_TOOL_NEXT_IMAGE</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_NO_ROOT" href="#friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_NO_ROOT">ID_TOOL_NO_ROOT</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_PREV_IMAGE" href="#friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_PREV_IMAGE">ID_TOOL_PREV_IMAGE</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_REDO" href="#friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_REDO">ID_TOOL_REDO</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_REMOVE" href="#friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_REMOVE">ID_TOOL_REMOVE</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_REMOVE_LANDMARK" href="#friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_REMOVE_LANDMARK">ID_TOOL_REMOVE_LANDMARK</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_THRESH" href="#friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_THRESH">ID_TOOL_THRESH</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_UNDO" href="#friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_UNDO">ID_TOOL_UNDO</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_ZOOM" href="#friendly_ground_truth.view.tk_view.MainWindow.ID_TOOL_ZOOM">ID_TOOL_ZOOM</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.MAX_SCALE" href="#friendly_ground_truth.view.tk_view.MainWindow.MAX_SCALE">MAX_SCALE</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.MIN_SCALE" href="#friendly_ground_truth.view.tk_view.MainWindow.MIN_SCALE">MIN_SCALE</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.change_toolbar_state" href="#friendly_ground_truth.view.tk_view.MainWindow.change_toolbar_state">change_toolbar_state</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.create_annotation_preview" href="#friendly_ground_truth.view.tk_view.MainWindow.create_annotation_preview">create_annotation_preview</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.create_canvas" href="#friendly_ground_truth.view.tk_view.MainWindow.create_canvas">create_canvas</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.create_file_menu" href="#friendly_ground_truth.view.tk_view.MainWindow.create_file_menu">create_file_menu</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.create_help_menu" href="#friendly_ground_truth.view.tk_view.MainWindow.create_help_menu">create_help_menu</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.create_info_panel" href="#friendly_ground_truth.view.tk_view.MainWindow.create_info_panel">create_info_panel</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.create_menubar" href="#friendly_ground_truth.view.tk_view.MainWindow.create_menubar">create_menubar</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.create_toolbar" href="#friendly_ground_truth.view.tk_view.MainWindow.create_toolbar">create_toolbar</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.draw_brush" href="#friendly_ground_truth.view.tk_view.MainWindow.draw_brush">draw_brush</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.handle_focus" href="#friendly_ground_truth.view.tk_view.MainWindow.handle_focus">handle_focus</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_about" href="#friendly_ground_truth.view.tk_view.MainWindow.on_about">on_about</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_add_brush_sizer" href="#friendly_ground_truth.view.tk_view.MainWindow.on_add_brush_sizer">on_add_brush_sizer</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_add_reg_tool" href="#friendly_ground_truth.view.tk_view.MainWindow.on_add_reg_tool">on_add_reg_tool</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_click" href="#friendly_ground_truth.view.tk_view.MainWindow.on_click">on_click</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_click_release" href="#friendly_ground_truth.view.tk_view.MainWindow.on_click_release">on_click_release</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_control_release" href="#friendly_ground_truth.view.tk_view.MainWindow.on_control_release">on_control_release</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_drag" href="#friendly_ground_truth.view.tk_view.MainWindow.on_drag">on_drag</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_enter_canvas" href="#friendly_ground_truth.view.tk_view.MainWindow.on_enter_canvas">on_enter_canvas</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_flood_add_slider" href="#friendly_ground_truth.view.tk_view.MainWindow.on_flood_add_slider">on_flood_add_slider</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_flood_add_tool" href="#friendly_ground_truth.view.tk_view.MainWindow.on_flood_add_tool">on_flood_add_tool</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_flood_remove_slider" href="#friendly_ground_truth.view.tk_view.MainWindow.on_flood_remove_slider">on_flood_remove_slider</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_flood_remove_tool" href="#friendly_ground_truth.view.tk_view.MainWindow.on_flood_remove_tool">on_flood_remove_tool</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_key_decrease_tool" href="#friendly_ground_truth.view.tk_view.MainWindow.on_key_decrease_tool">on_key_decrease_tool</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_key_increase_tool" href="#friendly_ground_truth.view.tk_view.MainWindow.on_key_increase_tool">on_key_increase_tool</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_keyboard_shortcuts" href="#friendly_ground_truth.view.tk_view.MainWindow.on_keyboard_shortcuts">on_keyboard_shortcuts</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_keypress" href="#friendly_ground_truth.view.tk_view.MainWindow.on_keypress">on_keypress</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_leave_canvas" href="#friendly_ground_truth.view.tk_view.MainWindow.on_leave_canvas">on_leave_canvas</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_left" href="#friendly_ground_truth.view.tk_view.MainWindow.on_left">on_left</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_load_image" href="#friendly_ground_truth.view.tk_view.MainWindow.on_load_image">on_load_image</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_motion" href="#friendly_ground_truth.view.tk_view.MainWindow.on_motion">on_motion</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_mousewheel" href="#friendly_ground_truth.view.tk_view.MainWindow.on_mousewheel">on_mousewheel</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_next_tool" href="#friendly_ground_truth.view.tk_view.MainWindow.on_next_tool">on_next_tool</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_no_root_tool" href="#friendly_ground_truth.view.tk_view.MainWindow.on_no_root_tool">on_no_root_tool</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_prev_tool" href="#friendly_ground_truth.view.tk_view.MainWindow.on_prev_tool">on_prev_tool</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_remove_brush_sizer" href="#friendly_ground_truth.view.tk_view.MainWindow.on_remove_brush_sizer">on_remove_brush_sizer</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_remove_reg_tool" href="#friendly_ground_truth.view.tk_view.MainWindow.on_remove_reg_tool">on_remove_reg_tool</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_right" href="#friendly_ground_truth.view.tk_view.MainWindow.on_right">on_right</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_right_click" href="#friendly_ground_truth.view.tk_view.MainWindow.on_right_click">on_right_click</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_save_mask" href="#friendly_ground_truth.view.tk_view.MainWindow.on_save_mask">on_save_mask</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_thresh_slider" href="#friendly_ground_truth.view.tk_view.MainWindow.on_thresh_slider">on_thresh_slider</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_threshold_tool" href="#friendly_ground_truth.view.tk_view.MainWindow.on_threshold_tool">on_threshold_tool</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_wheel_click" href="#friendly_ground_truth.view.tk_view.MainWindow.on_wheel_click">on_wheel_click</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_wheel_motion" href="#friendly_ground_truth.view.tk_view.MainWindow.on_wheel_motion">on_wheel_motion</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.on_wheel_release" href="#friendly_ground_truth.view.tk_view.MainWindow.on_wheel_release">on_wheel_release</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.set_brush_radius" href="#friendly_ground_truth.view.tk_view.MainWindow.set_brush_radius">set_brush_radius</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.set_up_interactions" href="#friendly_ground_truth.view.tk_view.MainWindow.set_up_interactions">set_up_interactions</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.show_image" href="#friendly_ground_truth.view.tk_view.MainWindow.show_image">show_image</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.start_progressbar" href="#friendly_ground_truth.view.tk_view.MainWindow.start_progressbar">start_progressbar</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.update_add_brush_sizer" href="#friendly_ground_truth.view.tk_view.MainWindow.update_add_brush_sizer">update_add_brush_sizer</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.update_flood_add_slider_value" href="#friendly_ground_truth.view.tk_view.MainWindow.update_flood_add_slider_value">update_flood_add_slider_value</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.update_flood_remove_slider_value" href="#friendly_ground_truth.view.tk_view.MainWindow.update_flood_remove_slider_value">update_flood_remove_slider_value</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.update_info_panel" href="#friendly_ground_truth.view.tk_view.MainWindow.update_info_panel">update_info_panel</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.update_remove_brush_sizer" href="#friendly_ground_truth.view.tk_view.MainWindow.update_remove_brush_sizer">update_remove_brush_sizer</a></code></li>
<li><code><a title="friendly_ground_truth.view.tk_view.MainWindow.update_thresh_slider_value" href="#friendly_ground_truth.view.tk_view.MainWindow.update_thresh_slider_value">update_thresh_slider_value</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="friendly_ground_truth.view.tk_view.ResizingCanvas" href="#friendly_ground_truth.view.tk_view.ResizingCanvas">ResizingCanvas</a></code></h4>
<ul class="">
<li><code><a title="friendly_ground_truth.view.tk_view.ResizingCanvas.on_resize" href="#friendly_ground_truth.view.tk_view.ResizingCanvas.on_resize">on_resize</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.8.1</a>.</p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>